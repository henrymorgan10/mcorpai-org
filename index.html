<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Mâ€‘Corp AI â€” Ethical AI for Refugee Selfâ€‘Reliance</title>
  <meta name="description" content="Rightsâ€‘based, offline AI for children with disabilities. Refugeeâ€‘led livelihoods with inâ€‘browser calculators (illustrative only)." />
  <meta name="theme-color" content="#0b77d5" />
  <meta name="robots" content="index,follow" />
  <meta property="og:title" content="Mâ€‘Corp AI â€” Ethical AI for Refugee Selfâ€‘Reliance" />
  <meta property="og:description" content="Rightsâ€‘based, offline AI for children with disabilities. Refugeeâ€‘led livelihoods and selfâ€‘reliance." />
  <meta property="og:type" content="website" />

  <style>
    /* ===== Design tokens ===== */
    :root{
      --bg: #f5f7fb;
      --paper: #ffffff;
      --ink: #10243a;     /* deep ink */
      --muted: #52667a;   /* muted text */
      --line: #d7e2ee;    /* soft border */
      --accent: #0b77d5;  /* brand blue */
      --accent-weak:#eaf4ff;
      --ok:#16a34a; --bad:#dc2626; --info:#2563eb;
      --shadow: 0 10px 28px rgba(16,36,58,.07);
      --radius: 16px;
    }

    /* ===== Global ===== */
    html{scroll-behavior:smooth}
    body{margin:0;background:linear-gradient(180deg,var(--bg),#fff 65%);color:var(--ink);font:16px/1.65 system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif}
    a{color:var(--accent)}
    .container{max-width:1100px;margin:0 auto;padding:24px}
    .card{background:var(--paper);border:1px solid var(--line);border-radius:var(--radius);box-shadow:var(--shadow);padding:24px}
    .btn{display:inline-block;border-radius:12px;border:1px solid var(--line);padding:10px 14px;background:#fff;color:var(--ink);cursor:pointer;text-decoration:none}
    .btn.primary{background:var(--accent);color:#fff;border-color:#0b69bb}
    .btn.ghost{background:transparent}
    .btn + .btn{margin-left:8px}
    .grid{display:grid;gap:12px}
    .cols-2{grid-template-columns:1.15fr 1fr}
    .cols-3{grid-template-columns:repeat(3,1fr)}
    @media (max-width:960px){.cols-2,.cols-3{grid-template-columns:1fr}}
    .sr-only{position:absolute!important;left:-9999px!important}

    /* ===== Header / nav ===== */
    nav.site{position:sticky;top:0;z-index:50;background:linear-gradient(180deg,#fff,rgba(255,255,255,.95));backdrop-filter:saturate(1.2) blur(6px)}
    nav .bar{display:flex;gap:16px;align-items:center;justify-content:space-between}
    nav .links{display:flex;gap:12px;flex-wrap:wrap}

    header.hero{padding:28px 0}
    header .title{font-size:1.9rem;margin:0}
    header .subtitle{margin:6px 0 0 0;color:var(--muted)}
    header .meta{font-size:.92rem;color:#6b7f93}

    /* ===== Diplomatic notes ===== */
    .diplom-wrap{max-width:1100px;margin:8px auto 18px;padding:0 24px}
    .diplom{padding:18px;border-radius:14px;border:1px solid var(--line);box-shadow:var(--shadow)}
    .diplom.blue{background:var(--accent-weak);border-color:#cfe3ff}
    .diplom.red{background:rgba(255,200,200,.26);border-color:#f5cccc}

    /* ===== Sections ===== */
    section{margin:22px 0}
    h2{font-size:1.25rem;margin:0 0 10px}
    h3{font-size:1.05rem;margin:12px 0 6px}
    .meta{font-size:.9rem;color:var(--muted)}
    .hr{height:1px;background:#edf1f6;margin:16px 0}

    /* ===== Report typography ===== */
    .report p{margin:10px 0}
    .report ul{margin:8px 0 14px 20px}

    /* ===== Dark panels (calculators) ===== */
    .panel-dark{--bg:#0f172a;--fg:#e2e8f0;--soft:#0b1220;--line:#334155;--muted:#94a3b8}
    .panel-dark{background:var(--bg);color:var(--fg);border-radius:18px;border:1px solid var(--line);box-shadow:0 12px 28px rgba(2,6,23,.25);padding:22px}
    .panel-dark .card{background:var(--soft);border-color:var(--line);color:var(--fg)}
    .panel-dark label{display:block;font-size:.9rem;color:var(--muted);margin-bottom:4px}
    .panel-dark input, .panel-dark select, .panel-dark textarea{width:100%;padding:10px 12px;border-radius:10px;border:1px solid var(--line);background:var(--soft);color:var(--fg);outline:none}
    .kpis{display:grid;gap:10px}
    @media(min-width:900px){.kpis{grid-template-columns:repeat(3,1fr)}}
    .kpi .title{font-size:.9rem;color:var(--muted)}
    .kpi .num{font-weight:800;font-size:1.25rem}
    canvas.chart{width:100%;height:180px;border-radius:10px;background:var(--soft)}

    /* ===== Footer ===== */
    footer{margin:26px 0 12px;color:#1d4ed8}
    footer .small{font-size:.92rem}

    /* Print */
    @media print{nav, .no-print{display:none!important} body{background:#fff} .card, .panel-dark{box-shadow:none;border-color:#ddd}}

    /* ===== Inline initiative links box (A/B/C) ===== */
    .initiative-box{ 
      max-width: 980px; 
      margin: 16px 0; 
      padding: 18px 20px; 
      background: linear-gradient(0deg,#ffffff,#ffffff),
                  radial-gradient(900px 420px at 8% -8%, rgba(37,99,235,.06), transparent 60%),
                  radial-gradient(900px 420px at 120% 120%, rgba(2,132,199,.06), transparent 60%);
      border: 1px solid #91c9ff;
      border-radius: 14px;
      box-shadow: 0 10px 28px rgba(2,132,199,.08);
      color: #0f2e4f; 
      font-family: Arial, system-ui, -apple-system, "Segoe UI", Roboto, sans-serif;
      line-height: 1.7; 
    }
    .initiative-box h3{margin: 0 0 8px 0; font-size: 1.1rem; font-weight: 700; color: #0b5bd3}
    .initiative-box p{ margin: 0; font-size: 15px }
    .initiative-box a{ color:#0b5bd3; text-decoration: underline }

    /* Small helper to visually hide placeholders until JS paints values */
    .placeholder{opacity:.6}
  </style>
</head>
<body>
  <a href="#content" class="sr-only">Skip to content</a>

  <nav class="site" aria-label="Primary">
    <div class="container bar card">
      <strong aria-label="Site name">Ethical AI for Children with Disabilities</strong>
      <div class="links">
        <a href="#summary">Executive Summary</a>
        <a href="#tech">Technical Approach</a>
        <a href="#calc">Refugee Calculator</a>
        <a href="#sim">Impact Simulator</a>
        <a href="#contact">Contact</a>
      </div>
    </div>
  </nav>

  <header class="container hero">
    <div class="card">
      <h1 class="title">Not for Profit. Not for Data. Built for Dignity</h1>
      <p class="subtitle">Rightsâ€‘based wearable AI for children with disabilities, manufactured and maintained by refugees to build selfâ€‘reliance within camps.</p>
      <p class="meta">Prepared by: Gyuâ€‘min Jeon (Republic of Korea) Â· Initiated 2020 â€” Finalized 2025</p>
    </div>
  </header>

  <!-- Diplomatic notes -->
  <div class="diplom-wrap">
    <section class="diplom blue" aria-label="Diplomatic request">
      <p><strong>Request:</strong> 5â€‘minute briefing & permission to share the <strong>11â€‘page</strong> executive summary.</p>
      <p><strong>Your Excellency,</strong> I would be grateful if you could spare a brief moment to review a concise presentation on supporting children with disabilities and pathways to refugee selfâ€‘reliance. With your kind permission, I would be honored to deliver a brief, fiveâ€‘minute overview. This initiative has been <em>noted by</em> GIZ (Germany) and is under <em>future review</em> at SIDA (Sweden), underscoring its alignment with inclusive, ethical technology. To our knowledge, this is among the earliest humanitarian AI models designed not to compete with Big Tech, but to protect children with disabilities and empower refugees â€” capable of being fieldâ€‘proven with only USDÂ 1,000.</p>
      <p class="meta">For EU missions and UK posts: the model is designed to align with CRPD/UNCRC priorities and GDPRâ€‘oriented privacy expectations; all materials are nonâ€‘commercial and rightsâ€‘based.</p>
    </section>
  </div>
  <div class="diplom-wrap">
    <section class="diplom red" aria-label="Japanese/French note">
      <p>ğŸ‡¯ğŸ‡µ å€«ç†çš„AIã¯ã€æ—¥æœ¬ã®å¼·ã¿ã§ã‚ã‚‹ã€Œç¾åœ°æ”¯æ´ã€ã¨ã€ŒæŠ€è¡“å”åŠ›ã€ã‚’çµã³ã¤ã‘ã€é›£æ°‘ãŒè‡ªã‚‰ç”Ÿæ´»ã‚’æ”¯ãˆã‚‰ã‚Œã‚‹ä»•çµ„ã¿ã‚’æ§‹ç¯‰ã—ã¾ã™ã€‚å€«ç†çš„AIã«ã‚ˆã‚‹è‡ªç«‹æ”¯æ´ã¯ã€æ—¥æœ¬ã®ODAãƒ»å›½éš›å”åŠ›æ–¹é‡ã«é©åˆã™ã‚‹å®Ÿè·µçš„ãƒ¢ãƒ‡ãƒ«ã§ã™ã€‚<br />ğŸ‡«ğŸ‡· Ã€ notre connaissance, aucun pays nâ€™a encore pris lâ€™ascendant dans lâ€™IA Ã©thique.</p>
    </section>
  </div>


  
  
  <!-- Dual-hosted document links (local + Drive) -->
<div class="doc-links" style="margin-top:9px; text-align:center;">
  <strong>Docs:</strong> <span> The 11-page executive summary is available in both English and Japanese. </span>
  <div style="margin-top:8px">
    <!-- Local PDF download -->
    <a class="btn primary" href="https://mcorpai.org/AINecklace_Summary_Korea.pdf" target="_blank" rel="noopener" aria-label="Open executive summary on Google Drive">Secure Local Download (EN PDF) </a>
    <!-- Removed GitHub link -->
    <!-- Google Drive link -->
     <a class="btn primary" href="https://mcorpai.org/AINecklace_Summary_japan.pdf" target="_blank" rel="noopener" aria-label="Open executive summary on Google Drive">å®‰å…¨ã«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ï¼ˆJP PDFï¼‰</a>
  </div>
  <div class="meta" style="margin-top:6px"> A 260-page technical dossier is available upon request in secure PDF/A format. </div>
  <div class="meta" style="margin-top:6px"> Please note: The complete document is currently not available in Japanese. </div>
</div>


  

  
  <main id="content" class="container">
    <!-- Executive Summary / Report -->
    <section id="summary" class="card report" aria-labelledby="reportTitle">
      <h2 id="reportTitle">AI Necklace for Child Safety â€” A Refugee Selfâ€‘Reliance Model for Children with Disabilities</h2>
      <p class="meta">(To our knowledge, one of the earliest rightsâ€‘based applications of offline, privacyâ€‘preserving AI in humanitarian protection.)</p>
      <div class="hr" role="presentation"></div>

      <h3>1) Purpose & Core Concept</h3>
      <p>The <em>AI Necklace for Child Safety</em> is a lifeâ€‘saving, offline, dataâ€‘minimizing wearable for children with developmental and physical disabilities in lowâ€‘resource and displacement contexts. It places <strong>ethical AI</strong> at the center: human dignity first, no cloud dependence, andâ€”by designâ€”no personal data is intended to be collected. Refugeeâ€‘led assembly embeds livelihoods directly in camps.</p>

      <h3>2) Need & Urgency</h3>
      <p>Children with disabilities face heightened risks: sudden wandering, traffic hazards, and crises where they cannot call for help. A practical MVP can be demonstrated with ~<strong>USDÂ 1,000</strong>, covered by the proposer, requiring no immediate funding commitment.</p>

      <h3 id="tech">3) Technical Approach</h3>
      <ul>
        <li><strong>Form factor:</strong> Lightweight necklace with integrated sensors.</li>
        <li><strong>Core functions:</strong> Detects sudden movement, road proximity, and abnormal physiological signs; issues childâ€‘friendly voice prompts in real time.</li>
        <li><strong>Architecture:</strong> Edgeâ€‘based inference onâ€‘device; no internet or cloud dependency.</li>
        <li><strong>Assembly:</strong> A few lowâ€‘cost chips and simple circuitry; feasible in a refugee tent with under two hours of training.</li>
        <li><strong>Privacy:</strong> Designed to align with GDPR/COPPA; no personal data is intended to be collected. Final compliance to be confirmed with partner policies.</li>
      </ul>

      <h3>4) Strategic Alignment</h3>
      <p>Directly supports SDGs 3, 4, 9, 10, 11, and 17; shifts refugees from passive recipients to active producers, enhancing dignity and reducing aid dependency. The Ethical AI for Children with Disabilities collects no data of any kind.
Should you seek a precise and in-depth understanding of the foundational principles behind this data-free architecture, kindly leave your contact information, and I will be pleased to provide you with a comprehensive PDF document. </p>

      <h3>5) Why this merits diplomatic inquiry (concise)</h3>
      <ul>
        <li><strong>Noâ€‘budget ask for pilot:</strong> MVP financed by proposer (USDÂ 1,000) â†’ zero fiscal risk.</li>
        <li><strong>Rightsâ€‘based & nonâ€‘controversial:</strong> Offline, privacyâ€‘preserving design; protects children with disabilities; aligns with ODA and humanitarian mandates.</li>
        <li><strong>Locally verifiable:</strong> Refugeeâ€‘assembled in a tent within hours â†’ immediate, visible results suitable for diplomatic due diligence.</li>
      </ul>






      <!-- Dual-hosted document links (local + Drive) -->
<div class="doc-links" style="margin-top:10px">
  <strong>Docs:</strong> <span>3-page executive summary <em>(Quick Snapshot AI Necklace for Child Safety 3 Page)</em></span>
  <div style="margin-top:8px">
    <!-- Local PDF download -->
    <a class="btn primary" href="https://mcorpai.org/Quick Snapshot AI Necklace for Child Safety (3 Page).pdf" download aria-label="Download executive summary locally as PDF">
      Download locally (PDF)
    </a>
    <!-- Google Drive link -->
    <a class="btn" href="https://mcorpai.org/Quick Snapshot AI Necklace for Child Safety (3 Page).pdf" target="_blank" rel="noopener" aria-label="Open on Drive">
      Open on Drive
    </a>
  </div>
  <div class="meta" style="margin-top:6px">
    A 260-page technical dossier is available upon request (secure PDF/A).
  </div>
</div>




      
      
    <!-- Refugee Calculator -->
    <section id="calc" class="panel-dark" aria-labelledby="calcTitle">
      <h2 id="calcTitle">Refugee Calculator</h2>
      <p class="meta">Educational demo. <strong>Illustrative only; not a forecast.</strong> Runs locally in your browser. Figures are rough ranges to prompt policy discussion.</p>

      <div class="grid cols-2">
        <div>
          <div class="card" role="group" aria-labelledby="rcControls"><strong id="rcControls" class="meta">Controls</strong>
            <div style="display:flex;align-items:center;gap:10px;flex-wrap:wrap;margin-top:8px">
              <span title="Temperature anomaly" style="display:inline-flex;gap:6px;align-items:center;padding:6px 10px;border-radius:999px;font-size:.85rem;background:#0b1220;border:1px solid #334155;color:#e2e8f0">Î”T</span>
              <button type="button" id="rcDown" class="btn" aria-label="Decrease temperature">âˆ’</button>
              <strong id="rcTemp" aria-live="polite">1.55</strong><span>Â°C</span>
              <button type="button" id="rcUp" class="btn" aria-label="Increase temperature">+</button>

              <label for="rcCropSel" style="margin-left:6px">Crop</label>
              <select id="rcCropSel" aria-label="Crop selection">
                <option value="wheat" selected>Wheat</option>
                <option value="rice">Rice</option>
                <option value="maize">Maize</option>
              </select>
            </div>
            <p style="margin:10px 0 0">
              Every 0.1 Â°C increase may correspond to
              <strong id="rcRefugeesStep" class="placeholder" aria-live="polite">â€”</strong>
              people/year additionally displaced (vs 1.55 Â°C baseline). Cumulative since 1.55 Â°C:
              <strong id="rcRefugeesCum" class="placeholder" aria-live="polite">â€”</strong>.
              <span id="rcCropName">Wheat</span> yield change (vs 1.55 Â°C):
              <strong id="rcCrop" class="placeholder" aria-live="polite">â€”</strong>.
            </p>
          </div>

          <div id="rcWarn" class="card" style="margin-top:10px;display:none" aria-live="polite"></div>
          <div id="rcApoc" class="card" style="margin-top:10px;display:none;font-weight:700;color:#fecaca;background:#7f1d1d" aria-live="polite"></div>

          <div class="card" style="margin-top:10px">
            <div class="meta" style="margin-bottom:6px">Projected displacement at current temperature (illustrative)</div>
            <div style="display:flex;gap:16px;flex-wrap:wrap">
              <div><span class="meta">After 1 year:</span> <strong id="rcYear1" class="placeholder" aria-live="polite">â€”</strong></div>
              <div><span class="meta">After 2 years:</span> <strong id="rcYear2" class="placeholder" aria-live="polite">â€”</strong></div>
              <div><span class="meta">After 3 years:</span> <strong id="rcYear3" class="placeholder" aria-live="polite">â€”</strong></div>
            </div>
          </div>

          <small class="meta" style="display:block;margin-top:8px"> Calibrated to public assessments from leading global monitoring bodies, this model is intended solely for discussion. The year 2024 has been officially recorded as the first in which the critical climate threshold of 1.5Â°C was surpassed, with the global average temperature reaching 1.55Â°C. </small>
        </div>

        <div>
          <div class="kpis">
            <div class="card"><div class="title">Live step (per +0.1â€¯Â°C)</div><div id="rcKpiStep" class="num placeholder" aria-live="polite">â€”</div></div>
            <div class="card"><div class="title">Cumulative since 1.55â€¯Â°C</div><div id="rcKpiCum" class="num placeholder" aria-live="polite">â€”</div></div>
            <div class="card"><div class="title">Selected crop Î”yield</div><div id="rcKpiCrop" class="num placeholder" aria-live="polite">â€”</div></div>
          </div>
        </div>
      </div>
    </section>

    <!-- Impact Simulator -->
    <section id="sim" class="panel-dark" aria-labelledby="simTitle" style="margin-top:18px">
      <h2 id="simTitle">Mâ€‘Corp Impact Simulator â€” â€œ$1,000 Tent Factoryâ€</h2>
      <p class="meta">All calculations run locally. <strong>Illustrative only; not a forecast.</strong> Adjust to match local reality.</p>

      <div class="grid cols-2">
        <div>
          <div class="grid cols-3">
            <div><label for="tents">Tents</label><input id="tents" type="number" min="1" value="1" /></div>
            <div><label for="workersPerTent">Workers per tent</label><input id="workersPerTent" type="number" min="1" value="4" /></div>
            <div><label for="months">Duration (months)</label><input id="months" type="number" min="1" value="6" /></div>
          </div>

          <div class="grid cols-3" style="margin-top:10px">
            <div><label for="unitsPerWorkerWeek">Units/worker/week</label><input id="unitsPerWorkerWeek" type="number" min="1" value="3" /></div>
            <div><label for="premiumShare">Premium share (%)</label><input id="premiumShare" type="range" min="0" max="100" value="25" /></div>
            <div><label for="campPop">Camp population</label><input id="campPop" type="number" min="1" value="5000" /></div>
          </div>

          <div class="grid cols-3" style="margin-top:10px">
            <div><label for="loanPerTent">Microloan per tent (USD)</label><input id="loanPerTent" type="number" min="0" value="1000" /></div>
            <div><label for="payoutRatio">Payout ratio (%)</label><input id="payoutRatio" type="number" min="0" max="100" value="50" /></div>
            <div><label for="dividendUnit">Dividend/household (USD)</label><input id="dividendUnit" type="number" min="1" value="50" /></div>
          </div>

          <div class="card" style="margin-top:10px"><strong>How wages & family dividends work</strong><br />
            Participants receive <strong>$300/month</strong>. In addition, <strong>50%</strong> of net profit is distributed as <strong>$50/household/month</strong> dividends.
          </div>
        </div>

        <div>
          <div class="kpis">
            <div class="card"><div class="title">Total workers</div><div id="out_workers" class="num">â€”</div></div>
            <div class="card"><div class="title">Total units</div><div id="out_units" class="num">â€”</div></div>
            <div class="card"><div class="title">Revenue</div><div id="out_revenue" class="num">$0</div></div>
          </div>
          <div class="kpis" style="margin-top:10px">
            <div class="card"><div class="title">Wage pool</div><div id="out_wagePool" class="num">$0</div><div class="title">Coverage vs 10% of sales: <span id="out_wageCoverage">â€”</span></div></div>
            <div class="card"><div class="title">Dividend pool</div><div id="out_divPool" class="num">$0</div><div class="title">Beneficiary households: <span id="out_divHouseholds">â€”</span></div></div>
            <div class="card"><div class="title">Reinvestment / Loan ETA</div><div id="out_weeksToRepay" class="num">â€”</div><div class="title">Reinvestment: <span id="out_margin">$0</span></div></div>
          </div>
          <div class="kpis" style="margin-top:10px">
            <div class="card"><div class="title">GDP/cap (monthly)</div><div id="out_gdpPerCapMonthly" class="num">$0</div></div>
            <div class="card"><div class="title">GDP/cap (annual)</div><div id="out_gdpPerCapAnnual" class="num">$0</div></div>
            <div class="card"><div class="title">Avg/worker (monthly)</div><div id="out_avgPerWorker" class="num">$0</div></div>
          </div>
        </div>
      </div>

      <div class="card" style="margin-top:12px">
        <div class="title">Product mix & costs</div>
        <div class="grid cols-3" style="margin-top:10px">
          <div><label for="priceBudget">Budget price (USD)</label><input id="priceBudget" type="number" min="1" value="20" /></div>
          <div><label for="costBudget">Budget BOM+other (USD)</label><input id="costBudget" type="number" min="0" value="12" /></div>
          <div><label>Budget share (%)</label><input id="budgetShare" type="number" readonly value="75" aria-label="Budget share percent" /></div>
        </div>
        <div class="grid cols-3" style="margin-top:10px">
          <div><label for="pricePremium">Premium price (USD)</label><input id="pricePremium" type="number" min="1" value="200" /></div>
          <div><label for="costPremium">Premium BOM+other (USD)</label><input id="costPremium" type="number" min="0" value="120" /></div>
          <div><label>Premium share (%)</label><input id="premiumShareNum" type="number" readonly value="25" aria-label="Premium share percent" /></div>
        </div>
        <div class="grid cols-3" style="margin-top:10px">
          <div><label for="monthlyWage">Monthly wage/worker (USD)</label><input id="monthlyWage" type="number" min="0" value="300" /></div>
          <div><label for="wageTargetRate">Wage target, % of sales</label><input id="wageTargetRate" type="number" min="0" max="100" value="10" /></div>
          <div><label for="weeksPerMonth">Weeks per month</label><input id="weeksPerMonth" type="number" min="1" step="0.1" value="4" /></div>
        </div>
      </div>

      <div class="card" style="margin-top:12px">
        <div class="title">Cumulative financials</div>
        <canvas id="chart" class="chart" width="640" height="180" aria-label="Financial chart"></canvas>
        <div style="margin-top:8px;display:flex;gap:8px;flex-wrap:wrap">
          <button class="btn" id="btnCopy">Copy summary</button>
          <button class="btn primary" id="btnCopyPrompt">Copy prompt</button>
        </div>
        <textarea id="gptPrompt" readonly aria-label="Generated GPT prompt" style="width:100%;min-height:120px;margin-top:8px"></textarea>
      </div>
    </section>

    <!-- Dropâ€‘in box for the A/B/C initiative links -->
    <section class="initiative-box" aria-label="Initiative links">
      <h3>Planned next steps</h3>
      <p>
        (A) <a href="https://mcorp-ai.com" target="_blank" rel="noopener">mcorp-ai.com</a> â€” interestâ€‘free microloans of approximately USDÂ 1,000 per tent for refugees who voluntarily join localized AI assembly.<br>
        (B) <a href="https://mcorpai.org" target="_blank" rel="noopener">mcorpai.org</a> â€” publicâ€‘interest hub for the offline, dataâ€‘minimizing AI Safety Necklace, including technical documentation, ethics principles, and future ordering.<br>
        (C) <a href="https://mcorp.ai.kr" target="_blank" rel="noopener">mcorp.ai.kr</a> â€” Koreanâ€‘language portal for domestic investors, ESGâ€‘oriented companies, and civic participation.
      </p>
    </section>

    <!-- Contact -->
    <section id="contact" class="card" aria-labelledby="contactTitle">
      <h2 id="contactTitle">Contact</h2>
      <p>We can provide the 260â€‘page technical dossier upon request.</p>
      <p>Email: <a href="mailto:gyumin.jeon.childsafe@gmail.com">gyumin.jeon.childsafe@gmail.com</a> Â· Backup: <a href="mailto:jekymin2@naver.com" rel="noopener noreferrer">jekymin2@naver.com</a></p>
      <p class="meta">Compliance note: language here intentionally states â€œ<em>designed to align; no personal data is intended to be collected</em>â€ to reflect design intent. Final policies will be validated with implementing partners.</p>
    </section>
  </main>

  <footer class="container">
    <div class="card">
      <p class="small">Â© Mâ€‘Corp AI. All publicâ€‘interest materials may be shared with attribution. Calculators and simulators on this page are <strong>illustrative only</strong> and do not constitute forecasts or policy guidance.</p>
    </div>
  </footer>

  <noscript>
    <div class="container"><div class="card" role="alert">This page includes interactive calculators. Please enable JavaScript to use them. The narrative content is still available above.</div></div>
  </noscript>

  <script>
    /* ---------------- Refugee Calculator ---------------- */
    (function(){
      const STEP = 0.1; const BASELINE = 1.55; const MAX_T = 3.5;
      const CROP_COEFF = { wheat:-0.6, rice:-0.32, maize:-0.74 }; // % per 0.1Â°C vs baseline
      const LOW_BASE=15000, HIGH_BASE=60000; // people/year per 0.1Â°C at baseline
      const GLOW=Math.log(2)/1.0, GHIGH=Math.log(2)/0.5; // doubling rates
      const $ = id => document.getElementById(id);
      const fmt = n => Math.round(n).toLocaleString();
      const r1 = n => (Math.round(n*10)/10).toFixed(1);
      let T=BASELINE, crop='wheat', timer=null;

      function stepInc(temp, hi){
        const g = hi? GHIGH : GLOW; const b = hi? HIGH_BASE : LOW_BASE;
        return b * Math.exp(g * Math.max(0, temp - BASELINE));
      }
      function cum(temp, hi){
        if(temp<=BASELINE) return 0; const steps=Math.round((temp-BASELINE)/STEP);
        let s=0; for(let i=1;i<=steps;i++){ s += stepInc(BASELINE + i*STEP, hi); }
        return s; }
      function growths(temp){ const d=Math.max(0, temp-BASELINE); return { low:0.05+0.15*d, high:0.10+0.35*d }; }

      function update(){
        $('rcTemp').textContent=r1(T);
        $('rcCropName').textContent=crop.charAt(0).toUpperCase()+crop.slice(1);
        const sL=stepInc(T+1e-9,false), sH=stepInc(T+1e-9,true);
        const cL=cum(T,false), cH=cum(T,true);
        const cropPct = ((T-BASELINE)/STEP) * CROP_COEFF[crop];
        $('rcRefugeesStep').textContent=`${fmt(sL)}â€“${fmt(sH)}`; $('rcRefugeesStep').classList.remove('placeholder');
        $('rcRefugeesCum').textContent=`${fmt(cL)}â€“${fmt(cH)}`; $('rcRefugeesCum').classList.remove('placeholder');
        $('rcCrop').textContent=(Math.round(cropPct*100)/100).toFixed(2)+'%'; $('rcCrop').classList.remove('placeholder');
        $('rcKpiStep').textContent = `${fmt(sL)}â€“${fmt(sH)}`; $('rcKpiStep').classList.remove('placeholder');
        $('rcKpiCum').textContent = `${fmt(cL)}â€“${fmt(cH)}`; $('rcKpiCum').classList.remove('placeholder');
        $('rcKpiCrop').textContent = (Math.round(cropPct*100)/100).toFixed(2)+'%'; $('rcKpiCrop').classList.remove('placeholder');
        warn(T); animateYears(cL,cH);
      }
      function warn(temp){
        const ap=$('rcApoc'), w=$('rcWarn');
        const notes=[
          {t:1.5, msg:'~1.5â€¯Â°C: Heatwaves intensify; heavy rainfall and flash floods more frequent.'},
          {t:1.7, msg:'~1.7â€¯Â°C: Droughtâ€“flood cycles amplify in Sahel/Horn; wildfire seasons intensify.'},
          {t:2.0, msg:'~2.0â€¯Â°C: Coral reefs risk nearâ€‘total loss; Arctic seaâ€‘iceâ€‘free summers more likely.'},
          {t:2.5, msg:'~2.5â€¯Â°C: Multiple breadbaskets face concurrent yield shocks.'},
          {t:3.0, msg:'~3.0â€¯Â°C: Severe, pervasive risks to food, water, and habitability.'}
        ];
        if(temp>=3.1){ w.style.display='none'; ap.textContent='â‰¥3.1â€¯Â°C scenario: outside this toolâ€™s range.'; ap.style.display='block'; return; }
        ap.style.display='none'; const note=notes.filter(d=>temp>=d.t).pop();
        if(note){ w.textContent=note.msg; w.style.display='block'; } else { w.style.display='none'; }
      }
      function animateYears(bL,bH){ if(timer) clearInterval(timer); const g=growths(T);
        const y1L=bL, y2L=bL*(1+(1+g.low)), y3L=bL*(1+(1+g.low)+Math.pow(1+g.low,2));
        const y1H=bH, y2H=bH*(1+(1+g.high)), y3H=bH*(1+(1+g.high)+Math.pow(1+g.high,2));
        let k=0, steps=6; timer=setInterval(()=>{k++; const p=k/steps; const L=(a,b)=>a+(b-a)*p;
          $('rcYear1').textContent=`${fmt(L(0,y1L))}â€“${fmt(L(0,y1H))}`; $('rcYear1').classList.remove('placeholder');
          $('rcYear2').textContent=`${fmt(L(0,y2L))}â€“${fmt(L(0,y2H))}`; $('rcYear2').classList.remove('placeholder');
          $('rcYear3').textContent=`${fmt(L(0,y3L))}â€“${fmt(L(0,y3H))}`; $('rcYear3').classList.remove('placeholder');
          if(k>=steps) clearInterval(timer);
        },200);
      }
      function inc(){ T=Math.min(MAX_T, +(T+STEP).toFixed(1)); update(); }
      function dec(){ T=Math.max(BASELINE, +(T-STEP).toFixed(1)); update(); }
      document.getElementById('rcUp').addEventListener('click', inc);
      document.getElementById('rcDown').addEventListener('click', dec);
      document.getElementById('rcCropSel').addEventListener('change', e=>{ crop=e.target.value; update(); });
      update();
    })();

    /* ---------------- Impact Simulator ---------------- */
    (function(){
      const $ = id => document.getElementById(id);
      const money = n => '$'+Math.round(n).toLocaleString();
      function syncShare(v){ $('premiumShareNum').value = +v; $('budgetShare').value = 100 - (+v); calc(); }
      function draw(rev,cost,rein){ const c=$('chart'), ctx=c.getContext('2d'); const W=c.width,H=c.height; ctx.clearRect(0,0,W,H);
        const data=[{l:'Revenue',v:rev,c:'#60a5fa'},{l:'Total cost (incl. wages)',v:cost,c:'#ef4444'},{l:'Reinvestment',v:rein,c:'#22c55e'}];
        const max=Math.max(1,...data.map(d=>d.v)); const pad=30, gap=20, bw=(W-pad*2)/data.length-gap;
        ctx.fillStyle='#0b1220'; ctx.fillRect(0,0,W,H); ctx.font='12px system-ui';
        data.forEach((d,i)=>{ const x=pad+i*(bw+gap); const h=d.v/max*(H-40); const y=H-20-h; ctx.fillStyle=d.c; ctx.fillRect(x,y,bw,h); ctx.fillStyle='#94a3b8'; ctx.fillText(d.l,x,H-6); ctx.fillText('$'+Math.round(d.v).toLocaleString(),x,y-6); });
      }
      function buildPrompt(s){
        const shareP=Math.round(s.shareP*100), shareB=100-shareP;
        const p = `You are an inclusive-design & humanitarian ops expert. Propose 3 ways to maximize disability-inclusive impact while keeping the offline, data-minimizing design.\n\n`+
        `Context:\n- Tents: ${s.tents}, Workers/Tent: ${s.workersPerTent}, Months: ${s.months}\n`+
        `- Units/worker/week: ${s.unitsPerWorkerWeek}, Weeks/month: ${s.weeksPerMonth}\n`+
        `- Mix: Budget ${shareB}% at $${s.priceB} (cost $${s.costB}), Premium ${shareP}% at $${s.priceP} (cost $${s.costP})\n`+
        `- Monthly wage: $${s.monthlyWage} (~${Math.round(s.wageTargetRate*100)}% of revenue target)\n`+
        `- Payout ratio: ${Math.round(s.payoutRatio*100)}%, Dividend/household: $${s.dividendUnit}\n`+
        `- Loan/tent: $${s.loanPerTent}, Camp pop: ${s.campPop}\n\n`+
        `Results:\n- Total workers: ${s.totalWorkers}, Units: ${Math.round(s.totalUnits)}\n`+
        `- Revenue: $${Math.round(s.revenue).toLocaleString()}, Direct costs: $${Math.round(s.directCosts).toLocaleString()}\n`+
        `- Wage pool: $${Math.round(s.wagePool).toLocaleString()}, Dividend pool: $${Math.round(s.dividendPool).toLocaleString()} (households: ${s.households})\n`+
        `- Reinvestment: $${Math.round(s.reinvest).toLocaleString()}, Weeks to repay loan: ${s.weeksToRepay}\n`+
        `- GDP/cap (monthly/annual): $${s.gdpPerCapMonthly.toFixed(2)} / $${s.gdpPerCapAnnual.toFixed(2)}\n\n`+
        `Constraints: No personal data intended to be collected; offline-first; rights-based. Output: short step-by-step plan.`;
        $('gptPrompt').value=p;
      }
      function calc(){
        const tents=+$('tents').value, workersPerTent=+$('workersPerTent').value, months=+$('months').value;
        const unitsPerWorkerWeek=+$('unitsPerWorkerWeek').value, weeksPerMonth=+$('weeksPerMonth').value;
        const priceB=+$('priceBudget').value, priceP=+$('pricePremium').value, costB=+$('costBudget').value, costP=+$('costPremium').value;
        const shareP=+$('premiumShare').value/100, shareB=1-shareP; const monthlyWage=+$('monthlyWage').value;
        const wageTargetRate=+$('wageTargetRate').value/100, payoutRatio=+$('payoutRatio').value/100, dividendUnit=+$('dividendUnit').value;
        const loanPerTent=+$('loanPerTent').value, campPop=Math.max(1,+$('campPop').value);
        const totalWorkers=tents*workersPerTent, totalWeeks=months*weeksPerMonth, totalUnits=totalWorkers*unitsPerWorkerWeek*totalWeeks;
        const unitsB=totalUnits*shareB, unitsP=totalUnits*shareP; const revenue=unitsB*priceB + unitsP*priceP; const directCosts=unitsB*costB + unitsP*costP;
        const wagePool=totalWorkers*monthlyWage*months; const wageTarget=revenue*wageTargetRate;
        const marginBeforePayout=revenue - directCosts - wagePool; const dividendPool=Math.max(0, marginBeforePayout*payoutRatio);
        const households=Math.floor(dividendPool/dividendUnit); const reinvest=Math.max(0, marginBeforePayout - dividendPool);
        const loanTotal=tents*loanPerTent; const weeklyReinvest= totalWeeks>0 ? reinvest/totalWeeks : 0; const weeksToRepay= weeklyReinvest>0 ? Math.ceil(loanTotal/weeklyReinvest) : 'â€”';
        const monthlyDiv = months>0 ? dividendPool/months : 0; const monthlyDistrib = (wagePool/months) + monthlyDiv;
        const gdpPerCapMonthly = monthlyDistrib/campPop; const gdpPerCapAnnual = gdpPerCapMonthly*12; const avgPerWorkerMonthly = months>0 && totalWorkers>0 ? (wagePool/months)/totalWorkers : 0;
        $('out_workers').textContent = totalWorkers.toLocaleString();
        $('out_units').textContent = Math.round(totalUnits).toLocaleString();
        $('out_revenue').textContent = money(revenue);
        $('out_wagePool').textContent = money(wagePool);
        $('out_wageCoverage').textContent = wageTarget>0 ? ((wagePool / wageTarget * 100).toFixed(1)+'%') : 'â€”';
        $('out_divPool').textContent = money(dividendPool);
        $('out_divHouseholds').textContent = households.toLocaleString();
        $('out_margin').textContent = money(reinvest);
        $('out_weeksToRepay').textContent = weeksToRepay;
        $('out_gdpPerCapMonthly').textContent = '$' + gdpPerCapMonthly.toFixed(2);
        $('out_gdpPerCapAnnual').textContent = '$' + gdpPerCapAnnual.toFixed(2);
        $('out_avgPerWorker').textContent = money(avgPerWorkerMonthly);
        draw(revenue, directCosts + wagePool, reinvest);
        buildPrompt({tents,workersPerTent,months,unitsPerWorkerWeek,weeksPerMonth,priceB,priceP,costB,costP,shareB,shareP,monthlyWage,wageTargetRate,payoutRatio,dividendUnit,loanPerTent,campPop,totalWorkers,totalUnits,revenue,directCosts,wagePool,dividendPool,households,reinvest,weeksToRepay,gdpPerCapMonthly,gdpPerCapAnnual});
      }
      function copy(){
        const text = [
          'Mâ€‘Corp Impact Simulator summary',
          `1. Workers: ${$('out_workers').textContent}, Units: ${$('out_units').textContent}`,
          `2. Revenue: ${$('out_revenue').textContent}, Wage pool: ${$('out_wagePool').textContent} (coverage: ${$('out_wageCoverage').textContent})`,
          `3. Dividends: ${$('out_divPool').textContent} â†’ households: ${$('out_divHouseholds').textContent}`,
          `4. Reinvestment: ${$('out_margin').textContent}, Loan repayment ETA: ${$('out_weeksToRepay').textContent} weeks`,
          `5. GDP/capita (monthly/annual): ${$('out_gdpPerCapMonthly').textContent} / ${$('out_gdpPerCapAnnual').textContent}`
        ].join('\n');
        navigator.clipboard.writeText(text).then(()=>alert('Summary copied to clipboard.'));
      }
      function copyPrompt(){ $('gptPrompt').select(); document.execCommand('copy'); alert('AI prompt copied.'); }
      document.getElementById('premiumShare').addEventListener('input', e=>{ syncShare(e.target.value); });
      document.getElementById('btnCopy').addEventListener('click', copy);
      document.getElementById('btnCopyPrompt').addEventListener('click', copyPrompt);
      ['tents','workersPerTent','months','unitsPerWorkerWeek','weeksPerMonth','priceBudget','pricePremium','costBudget','costPremium','monthlyWage','wageTargetRate','payoutRatio','dividendUnit','loanPerTent','campPop']
        .forEach(id=>document.getElementById(id).addEventListener('input', calc));
      // initial sync
      document.getElementById('premiumShareNum').value = +document.getElementById('premiumShare').value;
      document.getElementById('budgetShare').value = 100 - (+document.getElementById('premiumShare').value);
      calc();
    })();
  </script>
</body>


  


  
  

<!-- === Realâ€‘time Scamâ€‘Compound Risk (serverlessâ€‘ready) ===
Paste this block near the end of your HTML (just before </body>)
If you are opening the file directly (file://), put your JSON inside the <script id="scam-json"> tag below.
If you are serving over http(s), you may delete the inline JSON and keep scam_feed.json next to index.html. -->

<section id="scam-panel" aria-label="Real-time Scam-Compound Risk" style="max-width:980px;margin:18px auto;padding:14px;border-radius:14px;border:1px solid rgba(0,0,0,.08);background:rgba(232,255,241,.58);backdrop-filter:saturate(1.05) blur(6px);-webkit-backdrop-filter:saturate(1.05) blur(6px);box-shadow:0 10px 26px rgba(2,6,23,.06);">
  <h3 style="margin:0 0 4px;font-size:1rem;font-weight:700;color:#111">
    Realâ€‘time Scamâ€‘Compound Risk <span style="font-weight:600;color:#6b7280">(autoâ€‘refresh when online)</span>
  </h3>
  <p style="margin:0 0 8px;font-size:.84rem;color:#6b7280">
    A concise indicator summarizing public reports of coerced onlineâ€‘fraud compounds by country; not a verification or legal finding.
  </p>
  <div role="status" aria-live="polite" style="text-align:center;font-size:.86rem;color:#111;letter-spacing:.08px;margin:6px 0 2px">
    <span style="font-weight:700;margin-right:6px">Scamâ€‘Compound Index:</span>
    <span id="scam-line">Loadingâ€¦</span>
  </div>
</section>

<style>
  #scam-panel .country{color:#111;font-weight:600}
  #scam-panel .risk-high{color:#ef4444;font-weight:700}
  #scam-panel .risk-med{color:#f59e0b;font-weight:700}
  #scam-panel .risk-low{color:#10b981;font-weight:700}
  #scam-panel .pulse{animation:pulse-bg .26s linear 1}
  @keyframes pulse-bg{from{background-color:rgba(255,255,0,.12)}to{background-color:transparent}}
</style>

<!-- Inline JSON for serverless use (safe to replace with your scam_feed.json content). -->
<script id="scam-json" type="application/json">
{
  "source": "Inline feed (you can replace this with your own)",
  "last_updated": "2025-08-11T00:00:00+09:00",
  "items": [
    {"country":"Cambodia","city":"Sihanoukville (various sites)","pattern":"Compelled online scams / document seizure","last":"2025-06-30","risk":"MED"},
    {"country":"Laos","city":"Golden Triangle SEZ","pattern":"Coerced cyberfraud / movement restriction","last":"2025-07-20","risk":"HIGH"},
    {"country":"Myanmar","city":"Myawaddy SEZ","pattern":"Human trafficking / fenced compounds / armed guards","last":"2025-07-29","risk":"HIGH"},
    {"country":"Philippines","city":"Clark area (reports vary)","pattern":"Recruitment scams targeting foreign workers","last":"2025-06-12","risk":"MED"},
    {"country":"Thailand","city":"Sakon Nakhon (border belt)","pattern":"Forced scamming / passport confiscation / confinement","last":"2025-07-10","risk":"HIGH"},
    {"country":"UAE","city":"Dubai (front-office recruitment)","pattern":"Sham job offers leading to debt bondage","last":"2025-05-02","risk":"LOW"},
    {"country":"Malaysia","city":"Johor Bahru (industrial zones)","pattern":"Call-center style scam workshops reported","last":"2025-07-05","risk":"MED"},
    {"country":"Vietnam","city":"Ho Chi Minh City (suburban parks)","pattern":"Luring via tech-support vacancies; passport withholding","last":"2025-06-28","risk":"MED"},
    {"country":"Indonesia","city":"Batam (free-trade zone)","pattern":"Cross-border cyberfraud crews recruiting foreigners","last":"2025-07-02","risk":"MED"},
    {"country":"China","city":"Fujian (coastal clusters)","pattern":"Online romance-fraud hubs shifting locations","last":"2025-07-18","risk":"MED"}
  ]
}
</script>

<script>
(function(){
  const line = document.getElementById('scam-line');
  if(!line) return;

  const REFRESH_MS = 10*60*1000; // 10 minutes when online
  const order = {HIGH:3, MED:2, LOW:1};
  const esc = s => String(s||'').replace(/[&<>"']/g, c => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;','\'':'&#39;'}[c]));
  function word(r){ r=String(r||'MED').toUpperCase(); return r==='HIGH'?{w:'High',cls:'risk-high'}:r==='LOW'?{w:'Low',cls:'risk-low'}:{w:'Medium',cls:'risk-med'}; }

  // Optional two extra monitoring countries requested by user
  const SUGGEST = [
    {country:'Sri Lanka', risk:'LOW', city:'â€”', pattern:'Monitoring potential recruitment hubs', last:'2025-07-15'},
    {country:'Bangladesh', risk:'LOW', city:'â€”', pattern:'Monitoring potential recruitment hubs', last:'2025-07-12'}
  ];

  function normalize(feed){
    const map = new Map();
    (feed.items||[]).forEach(x=>{
      const c = String(x.country||'').trim(); if(!c) return;
      const r = String(x.risk||'MED').toUpperCase();
      const last = new Date(x.last||0).getTime()||0;
      const prev = map.get(c);
      if(!prev || order[r] > order[prev.r] || (order[r]===order[prev.r] && last > prev.last)){
        map.set(c, {c, r, last, city:x.city||'', pattern:x.pattern||''});
      }
    });
    SUGGEST.forEach(s=>{ if(!map.has(s.country)){ map.set(s.country, {c:s.country, r:String(s.risk||'LOW').toUpperCase(), last:new Date(s.last||0).getTime()||0, city:s.city||'', pattern:s.pattern||''}); } });
    const arr = Array.from(map.values());
    arr.sort((a,b)=> order[b.r]-order[a.r] || a.c.localeCompare(b.c));
    return arr;
  }

  function render(items){
    if(!items.length){ line.textContent='No data'; return; }
    const parts = items.map(x=>{
      const W = word(x.r);
      const tip = [x.city?`City: ${x.city}`:'', x.pattern?`Pattern: ${x.pattern}`:'', x.last?`Last: ${new Date(x.last).toISOString().slice(0,10)}`:''].filter(Boolean).join(' Â· ');
      return `<span class="country" title="${esc(tip)}">${esc(x.c)}</span> <span class="${W.cls}">${W.w}</span>`;
    });
    const html = parts.join(', ');
    if(line.innerHTML !== html){
      line.innerHTML = html; line.parentElement.classList.add('pulse'); setTimeout(()=>line.parentElement.classList.remove('pulse'), 260);
    }
  }

  async function loadFromJsonFile(){
    try{
      const res = await fetch('scam_feed.json?ts='+Date.now(), {cache:'no-store'});
      if(!res.ok) throw 0; const data = await res.json(); return data;
    }catch(e){ return null; }
  }

  async function load(){
    // Priority 1: inline JSON for file:// usage
    const inlineTag = document.getElementById('scam-json');
    if(inlineTag && inlineTag.textContent.trim().length){
      try{ const data = JSON.parse(inlineTag.textContent); render(normalize(data)); return; }catch(_){ /* fall through */ }
    }
    // Priority 2: fetch external JSON when served over http(s)
    if(location.protocol === 'http:' || location.protocol === 'https:'){
      const data = await loadFromJsonFile(); if(data){ render(normalize(data)); return; }
    }
    line.textContent = 'Failed to load data';
  }

  load();
  if(location.protocol === 'http:' || location.protocol === 'https:'){
    const iv = setInterval(()=>{ if(!document.hidden) load(); }, REFRESH_MS);
    window.addEventListener('pagehide', ()=>clearInterval(iv), {once:true});
  }
})();
</script>


  

  <!-- === Scamâ€‘Compound oneâ€‘page notice (paste under your desired section) === -->
<section id="scam-cta" aria-label="Scam-Compound one-page concept note"
  style="max-width:980px;margin:18px auto;padding:18px 20px;border-radius:14px;
         background:linear-gradient(0deg,rgba(6,95,70,.14),rgba(6,95,70,.14));
         border:1px solid rgba(6,95,70,.35);box-shadow:0 12px 28px rgba(6,95,70,.15);
         color:#0f2e1b;backdrop-filter:saturate(1.1) blur(4px);-webkit-backdrop-filter:saturate(1.1) blur(4px);">
  <div style="text-align:left;line-height:1.75;font-size:15.5px">
    <strong style="display:block;font-size:1.06rem;margin-bottom:6px;color:#0b1f17">Scam Compound and Overseas Kidnapping â€” Oneâ€‘Page Concept Note</strong>
    <p style="margin:0 0 10px 0">
      Around the world, tourists â€” including those from Korea, Japan, China, and Europe â€” are being abducted without recourse in countries such as Cambodia and Myanmar due to the proliferation of soâ€‘called â€œscam compounds.â€ Even INTERPOL, despite its global mandate, has effectively no viable solution to this growing crisis. Yet there exists a remarkably simple, highly deployable method to prevent such abductions: a minimalâ€‘cost AI implementation paired with a single Android application.
    </p>
    <p style="margin:0 0 12px 0">
      A concise, <strong>oneâ€‘page</strong> concept note outlining this approach is available in both English and Japanese. It is essential to emphasize that solutions to problems of this magnitude do not reside solely in the hands of large NGOs. An individual can, in fact, possess the key to a major solution â€” and it is vital not to dismiss such potential on the basis of preconceived notions.
    </p>
    <p style="margin:0 0 14px 0">
      Please click below to view the oneâ€‘page summary. Should you wish to examine the full, detailed concept note, I would be pleased to provide it upon request.
    </p>
  </div>

  <div style="display:flex;gap:10px;flex-wrap:wrap;align-items:center;justify-content:center;margin-top:6px">
    <a class="btn" style="background:#065f46;color:#fff;border-color:#064e3b" href="https://mcorpai.org/Scam%20Compound%20EN.pdf" target="_blank" rel="noopener" aria-label="Open one-page summary in English">
      Open 1â€‘page (EN)
    </a>
    <a class="btn" style="background:#0e7490;color:#fff;border-color:#075985" href="https://mcorpai.org/Scam%20Compound%20JP.pdf" target="_blank" rel="noopener" aria-label="ï¼‘ãƒšãƒ¼ã‚¸è¦ç´„ï¼ˆæ—¥æœ¬èªï¼‰ã‚’é–‹ã">
      ï¼‘ãƒšãƒ¼ã‚¸è¦ç´„ï¼ˆæ—¥æœ¬èªï¼‰
    </a>
  </div>

  <div class="meta" style="text-align:center;margin-top:8px;color:#064e3b;font-size:.92rem">
    Oneâ€‘page summaries hosted at <strong>mcorpai.org</strong>
  </div>
</section>
<!-- === End Scamâ€‘Compound notice === -->



  

  <!-- Urgent Proposal Panel (paste anywhere in <body>) -->
<section aria-label="Urgent Proposal â€“ Antiâ€‘Abduction App" class="urgent-proposal-box">
  <h2>[Urgent Proposal] Civilian App-Based Solution to Prevent Abductions in Southeast Asia</h2>
  <p>Your Excellency,</p>
  <p>In Cambodia, Laos, and Myanmar, severe corruption and the limitations of public authorities have led to a sharp rise in the abduction of tourists â€” including nationals from Korea, Japan, and Europe â€” by so-called â€œscam compounds.â€</p>
  <p>I can, within one week, deliver a fully field-deployable open-source, lightweight AI + short-range communication (Android) application designed to prevent such abductions.</p>
  <p><strong>Core elements:</strong></p>
  <ul>
    <li>Lightweight AI implementation (open-source)</li>
    <li>For areas without conventional networks â†’ Starlink (optimal) / if unavailable, Bluetooth mesh for short-range coverage</li>
    <li>Small incentive for reporters (travel miles, discount coupons) â†’ transforms bystanders into a proactive safety network</li>
  </ul>
  <p>This solution requires no complex infrastructure, can be implemented immediately, and is designed for measurable impact in high-risk zones. I can provide a one-page concept note and detailed implementation plan without delay.</p>
  <p>I kindly request that Your Excellency consider providing the support of one highly capable programmer. By â€œhighly capable,â€ I refer to a professional with advanced expertise in open-source AI, Android application development, and server-side engineering â€” someone who can manage foundational AI models while also delivering a fully functional mobile and backend system.</p>
<p> The one highly skilled programmer you provide will likely become a globally recognized figure â€” not only for their technical ability, but for their moral leadership. While the initiativeâ€™s concept bears my name as its planner, the implementation itself will forever carry the name of the programmer who brings it to life. In this sense, the individual you support will not merely be writing code, but helping to shape a humanitarian legacy.</p>
<p>ğŸ“© <strong>Contact</strong><br/>
    Email: <strong>gyumin.jeon.childsafe@gmail.com</strong>
</p>
  <p> A single lightweight page integrates a real-time impact simulator, a serverless global-risk feed, and a full browser-based game â€” all in pure HTML/CSS/JavaScript. </p>
</section>

<style>
  .urgent-proposal-box{
    /* layout */
    max-width: 960px; margin: 18px auto; padding: 16px 18px; border-radius: 14px;
    /* subtle border & transparency */
    border: 1px solid rgba(200, 0, 0, .25);
    background: rgba(255, 0, 0, .08); /* light red backdrop */
    backdrop-filter: saturate(1.05) blur(4px);
    -webkit-backdrop-filter: saturate(1.05) blur(4px);
    /* typography */
    color: #0b63c7; /* blue text */
    line-height: 1.55;
  }
  .urgent-proposal-box h2{
    margin: 0 0 10px; font-size: 1.15rem; font-weight: 800; color: #0b63c7;
  }
  .urgent-proposal-box p{ margin: 8px 0; font-size: .98rem; }
  .urgent-proposal-box ul{ margin: 8px 0 10px 22px; }
  .urgent-proposal-box li{ margin: 4px 0; }
  .urgent-proposal-box a{ color: #0b63c7; text-decoration: underline; }
  /* prefers-reduced-motion */
  @media (prefers-reduced-motion: no-preference){
    .urgent-proposal-box{ transition: box-shadow .25s ease; }
    .urgent-proposal-box:hover{ box-shadow: 0 10px 26px rgba(2,6,23,.08); }
  }
</style>








<!-- 
  ========================= í•œêµ­ì–´ ì£¼ì„ ë¸”ë¡ =========================
  ëª©ì : 10ì´ˆ ë’¤ ë°•ìŠ¤ ë‚´ë¶€ ê²Œì„ ì—”ë”©ì°½ í‘œì‹œ + ì—”ë”©ì°½ ì—´ë ¸ì„ ë•Œ 
       ìŠ¤í˜ì´ìŠ¤/ì—”í„° ë“± í‚¤ ì…ë ¥ì´ ê²Œì„ì— ì „ë‹¬ë˜ì§€ ì•Šë„ë¡ ì°¨ë‹¨.

  â—»ï¸ ìš”ì²­ ë°˜ì˜ ìš”ì•½ (ì¶©ëŒ ì—†ì´ í†µí•©ëœ ìµœì¢…ë³¸)
  1) PDF ê²½ë¡œ: https://mcorpai.org/Love Children with Disabilities(265 Pages).pdf â†’
     ìƒˆ íƒ­ì—ì„œ ë°”ë¡œ ì—´ê¸°(ë‹¤ìš´ë¡œë“œ ì•„ë‹˜). ë²„íŠ¼ ë¼ë²¨ "Open PDF".
  2) ì—”ë”©ì°½ì´ ë–  ìˆì„ ë•ŒëŠ” í‚¤ë³´ë“œ/í„°ì¹˜/ìº”ë²„ìŠ¤ í´ë¦­ì„ ë¬´ì‹œí•˜ê³ ,
     ì—”ë”©ì°½ ë²„íŠ¼(ë§ˆìš°ìŠ¤/í„°ì¹˜)ë§Œ ë™ì‘ (ëª¨ë°”ì¼ í¬í•¨).
  3) Exit Game ëˆ„ë¥´ë©´ ë°°ë„ˆì˜ GAME START ë²„íŠ¼ì´ ë‹¤ì‹œ ë³´ì„.
  4) ë°°ê²½ìŒì•…: ê²Œì„ ì¤‘ì—ë§Œ ì¬ìƒ. ì‹œì‘ ì‹œ ëœë¤ ê³¡ ì¬ìƒí•˜ê³ , ì¬ìƒì´ ëë‚˜ë©´ ë˜ë‹¤ì‹œ ëœë¤ ê³¡ì„ ìì—° ì „í™˜.
     (ì—”ë”©/ê²Œì„ì˜¤ë²„/ì—”ë”©íŒ¨ë„ ì—´ë¦¼ ì‹œ ì¦‰ì‹œ ì •ì§€. ì í”„ SFXë„ ì •ì§€)
  5) ë‚œì´ë„ ìœ ì§€ + ì´ˆë³´ì ìƒì¡´ ì™„í™”í˜• ë°¸ëŸ°ìŠ¤ (ì´ˆë°˜ 25ì´ˆ ë™ì•ˆë§Œ ì„œì„œíˆ íš¨ë ¥ ì‚¬ë¼ì§)
     - ì´ˆë°˜ Hazard/Boss ì¶œí˜„ìœ¨Â·ìµœëŒ€ ë™ì‹œì¥ì• ë¬¼Â·ê°€ì†ì„ ì†Œí­ ê°ì†Œ
     - ì´ˆë°˜ QTE ë°œë™/íŒì • ì—¬ìœ  ì¦ê°€ (ê±°ë¦¬Â·ì§€ì†ì‹œê°„)
     - ì‹œì‘ ì§í›„ ìƒì¡´ íƒ€ì´ë¨¸ 10sâ†’12s
     - ì²« ì¶©ëŒ 1íšŒì— í•œí•´ ìë™ ì„¸ì´ë¸Œ(ì´ˆë³´ì ê·¸ë ˆì´ìŠ¤) ì œê³µ
  6) ì—”ë”© íƒ€ì´ë¨¸: 900ì´ˆ â†’ 1,800ì´ˆ(=30ë¶„)ë¡œ í™•ëŒ€
  7) Find ğŸŸ© ! â€¦s survivalTimer<=12
  if(survivalTimer<=12){ ctx.font='bold 16px system-ui'; ctx.fillStyle = (isDay? '#b91c1c':'#fecaca'); ctx.fillText(`Find ${HEALTH}! ${survivalTimer.toFixed(1)}s`, WORLD.w*0.5-60, 22); }
  
  8)     } else if(a.type==='health'){
            survivalTimer = Math.min(15, survivalTimer + 15); addFx('+SURVIVE', player.x+6, player.y-40, '#10b981'); award(1);
          }  15ì´ˆ ì—¬ìœ 
  9)
  ë‘˜ì§¸. useRevive í•¨ìˆ˜ì—ì„œ ìƒì¡´ íƒ€ì´ë¨¸ë¥¼ ë³µêµ¬í•˜ëŠ” ê°’ì€ í˜„ì¬ 10ì´ˆë¡œ ë˜ì–´ ìˆìœ¼ë¯€ë¡œ, HEALTH(ğŸŸ©) ì•„ì´í…œê³¼ ë™ì¼í•œ ìµœëŒ€ ë³µêµ¬ê°’(15ì´ˆ)ì„ ì›í•˜ì‹œë©´ useReviveë„ 15ë¡œ ë°”ê¾¸ì‹œëŠ” ê²ƒì´ ì¼ê´€ì ì…ë‹ˆë‹¤. ì•„ë˜ ì›ë³¸ ë¸”ë¡ì„ ì‚­ì œí•˜ì‹œê³  ìˆ˜ì •ë³¸ìœ¼ë¡œ êµì²´í•´ ì£¼ì‹­ì‹œì˜¤.
  function useRevive(reason){
  reviveStored=false;
  invulnTimer = Math.max(invulnTimer, 2.5);
  for(const h of hazards){ const cx=h.x+h.w*0.5; if(Math.abs(cx - (player.x+14)) < 90) h.safe=true; }
  if(reason==='survival'){ survivalTimer = 10; }
  addFx('Revive âœš', player.x+6, player.y-50, '#ef4444');
  toast('Revived once. Charge consumed.', 5);

  í—¬ìŠ¤ ë¨¹ì€ ì§í›„ survivalTimerê°€ 12ì´ˆë³´ë‹¤ ì»¤ì§€ë¯€ë¡œ(> 12) Find ê²½ê³ ë¬¸ì€ ì‚¬ë¼ì§‘ë‹ˆë‹¤.

ê·¸ ì´í›„ survivalTimerê°€ 15 â†’ 14 â†’ 13 â†’ 12ë¡œ ì¤„ì–´ë“¤ ë•Œê¹Œì§€ëŠ” Findê°€ ë‹¤ì‹œ í‘œì‹œë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
ë”°ë¼ì„œ í—¬ìŠ¤ê°€ ì™„ì „íˆ 15ë¡œ ì±„ì›Œì¡Œë‹¤ë©´ ìµœëŒ€ 3ì´ˆ(15 âˆ’ 12 = 3s) ë™ì•ˆ Findê°€ ì•ˆ ëœ¹ë‹ˆë‹¤.
}
  
  ==================================================================
-->

<section id="care-canvas-game" aria-label="Love Children with Disabilities game" style="margin:24px auto;max-width:980px">
  <style>
    #care-canvas-game{font-family:system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif;color:#0b1221}
    #care-canvas-game .wrap{position:relative;border:1px solid rgba(0,0,0,.08);border-radius:14px;background:#fff;box-shadow:0 10px 26px rgba(2,6,23,.06);padding:14px}
    #care-canvas-game h3{margin:0 0 8px;font-size:1rem;font-weight:800}
    #care-canvas-game .hud{display:flex;gap:12px;flex-wrap:wrap;align-items:baseline;color:#374151;font-size:.9rem;margin-bottom:8px}
    #care-canvas-game .hud b{color:#111827}
    #care-canvas-game canvas{width:100%;height:248px;display:block;border:1px solid #dbe6ff;border-radius:12px;background:linear-gradient(180deg,#eef4ff 0%,#ffffff 60%);position:relative;z-index:1}
    #care-canvas-game .controls{font-size:.86rem;color:#4b5563;margin-top:8px;min-height:36px;display:flex;align-items:center}
    #care-canvas-game .footer{margin-top:10px;text-align:center;color:#1e40af;font-size:.90rem}
    #care-canvas-game .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}

    #ccg-banner{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);background:rgba(255,255,255,.96);border:1px solid #e5e7eb;border-radius:16px;padding:18px 22px;font-size:1.1rem;color:#0b1221;box-shadow:0 10px 24px rgba(2,6,23,.08);text-align:center;width:min(86%,560px);z-index:5;pointer-events:auto}
    #ccg-banner h4{margin:0 0 8px;font-size:1.25rem}
    #ccg-banner .start{display:inline-block;margin-top:8px;padding:8px 14px;border-radius:12px;border:1px solid #111827;background:#111827;color:#fff;font-weight:800;cursor:pointer}

    /* Toasts */
    #dad-toast{position:absolute;left:50%;top:12px;transform:translateX(-50%);background:rgba(255,255,255,.96);border:1px solid #e5e7eb;border-radius:12px;padding:10px 14px;font-size:1rem;color:#111827;box-shadow:0 10px 24px rgba(2,6,23,.08);z-index:4;display:none}
    #survival-msg{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);background:rgba(255,255,255,.96);border:1px solid #e5e7eb;border-radius:14px;padding:14px 18px;font-size:1.05rem;font-weight:800;color:#0b1221;box-shadow:0 10px 24px rgba(2,6,23,.08);z-index:4;display:none;text-align:center}
    #mission-pop{position:absolute;left:50%;top:18px;transform:translateX(-50%);background:rgba(14,21,38,.96);color:#fff;border:1px solid #0ea5e9;border-radius:12px;padding:10px 14px;font-size:.95rem;box-shadow:0 10px 24px rgba(2,6,23,.18);z-index:4;display:none}
    #game-toast{position:absolute;right:10px;top:10px;max-width:52%;background:rgba(17,24,39,.92);color:#f8fafc;border:1px solid rgba(148,163,184,.4);border-radius:12px;padding:8px 12px;font-size:.9rem;line-height:1.35;box-shadow:0 10px 22px rgba(2,6,23,.18);z-index:6;display:none}
    #game-toast b{color:#fbbf24}

    /* ===== Ending panel: inside the box, mouse-only to close/restart/exit ===== */
    #ccg-ending{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:min(92%,760px);background:#ffffff;border:1px solid #e5e7eb;border-radius:18px;box-shadow:0 18px 46px rgba(2,6,23,.18);padding:18px;display:none;z-index:20}
    #ccg-ending .ending-title{margin:0 0 6px;font:800 1.25rem/1.25 system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;color:#0b1221;text-align:center}
    #ccg-ending .ending-line{margin:2px 0 4px;font:700 1.05rem/1.4 system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;color:#111827;text-align:center}
    #ccg-ending .ending-sub{margin:0 10px 10px;font:.92rem/1.35 system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;color:#374151;text-align:center}
    #ccg-ending .ending-actions{display:flex;gap:10px;justify-content:center;align-items:center;margin-top:12px;flex-wrap:wrap}
    #ccg-ending .btn{display:inline-block;padding:9px 14px;border-radius:12px;border:1px solid #0f172a;background:#0f172a;color:#fff;text-decoration:none;font-weight:800;cursor:pointer}
    #ccg-ending .btn.gray{border-color:#d1d5db;background:#fff;color:#111827;font-weight:700}

    @media (prefers-reduced-motion: reduce){ #care-canvas-game canvas{transition:none} }
  </style>

  <div class="wrap" role="group" aria-roledescription="game container">
    <h3 id="ccg-title"> Love Children with Disabilities - No data is collected, Playable entirely offline </h3>
    <div class="hud" aria-live="polite">
      <div>Distance <b id="ccg-dist">0.0</b> m</div>
      <div>Care <b id="ccg-care">0</b></div>
      <div>Best Care <b id="ccg-best">0</b></div>
      <div>Stage <b id="ccg-stage">Day</b></div>
      <div>Combo <b id="ccg-combo">x1</b></div>
      <div>Mission <b id="ccg-mission">â€”</b></div>
      <div>Dash <b id="ccg-dash">Ready</b></div>
    </div>
    <div class="controls" id="ccg-controls">Click to start. Space for triple jump, hold to glide. X to dash. Enter converts obstacle. Collect ğŸ’, â¤, ğŸŒ to get bonuses. Rare â­ opens a 5s Golden Stage with no hazards.</div>
    <div style="position:relative">
      <canvas id="ccg-canvas" width="960" height="256" aria-label="Game canvas"></canvas>
      <div id="dad-toast" aria-live="polite"></div>
      <div id="survival-msg" aria-live="polite">You must collect the health bar to survive.</div>
      <div id="mission-pop" aria-live="polite"></div>
      <div id="game-toast" aria-live="polite"></div>
      <div id="ccg-banner" aria-live="polite">
        <h4>GAME START</h4>
        <div style="font-size:.95rem;color:#374151">Click anywhere on the canvas to begin. Space âœ¨ for triple jump, hold to glide ğŸª‚. X for dash âš¡. Collect ğŸ’â¤ for Care, ğŸŒ to slow time, â­ for Golden Stage.</div>
        <button class="start" id="ccg-start-btn" type="button">Start</button>
      </div>

      <!-- Ending panel (inside the box) -->
      <div id="ccg-ending" role="dialog" aria-modal="true" aria-live="polite">
        <h4 class="ending-title">GAME ENDING</h4>
        <p class="ending-line">I will love you forever.</p>
        <p class="ending-sub">Love Children with Disabilities â€” Full PDF (260 pages)</p>
        <div class="ending-actions">
          <a class="btn" id="btn-open-pdf" href="https://mcorpai.org/Love%20Children%20with%20Disabilities(265%20Pages).pdf#view=FitH" target="_blank" rel="noopener">Open PDF</a>
          <button type="button" class="btn" id="btn-restart">Restart</button>
          <button type="button" class="btn gray" id="btn-exit">Exit Game</button>
        </div>
      </div>
    </div>
    <div id="ccg-live" class="sr-only" aria-live="polite"></div>
  </div>

  <div class="footer" id="ccg-footer"> Children with disabilities are covered under both the UNCRC and the CRPD as a cross-cutting rights-holder group. </div>

  <script>
  (function(){
    const canvas = document.getElementById('ccg-canvas');
    const ctx = canvas.getContext('2d');
    const banner = document.getElementById('ccg-banner');
    const startBtn = document.getElementById('ccg-start-btn');
    const dadToast = document.getElementById('dad-toast');
    const survivalMsg = document.getElementById('survival-msg');
    const missionPop = document.getElementById('mission-pop');
    const gameToast = document.getElementById('game-toast');
    const footerEl = document.getElementById('ccg-footer');
    const hudDist = document.getElementById('ccg-dist');
    const hudCare = document.getElementById('ccg-care');
    const hudBest = document.getElementById('ccg-best');
    const hudStage = document.getElementById('ccg-stage');
    const hudDash  = document.getElementById('ccg-dash');
    const hudCombo = document.getElementById('ccg-combo');
    const hudMission = document.getElementById('ccg-mission');
    const controlsEl = document.getElementById('ccg-controls');
    const endingPanel = document.getElementById('ccg-ending');
    const btnRestart = document.getElementById('btn-restart');
    const btnExit = document.getElementById('btn-exit');

    const rand = (a,b)=> Math.random()*(b-a)+a;
    const clamp=(v,a,b)=> Math.max(a, Math.min(b, v));
    const lerp=(a,b,t)=> a+(b-a)*t;

    // ===== Audio utils =====
    function makeAudio(srcs, volume, loop){
      const a = new Audio();
      a.preload = 'auto';
      a.crossOrigin = 'anonymous';
      a.loop = !!loop;
      a.volume = typeof volume==='number'? volume : 1;
      let i = 0;
      function next(){ if(i < srcs.length){ a.src = srcs[i++]; a.load(); } }
      a.addEventListener('error', ()=>{ next(); });
      next();
      return a;
    }

    // --- BGM: ëœë¤ ì¬ìƒ ì „ìš© ì˜¤ë””ì˜¤ (loop=false, íŠ¸ë™ ëë‚˜ë©´ ëœë¤ìœ¼ë¡œ ë‹¤ìŒ ê³¡)
    const TRACKS = [
      'https://mcorpai.org/Cherokee%20Shuffle.mp3',
      'https://mcorpai.org/Cumberland%20Gap.mp3',
      'https://mcorpai.org/Daisy%20Dukes.mp3',
      'https://mcorpai.org/Gold%20Bug%20Island.mp3',
      'https://mcorpai.org/Michigan%20Greens.mp3',
      "https://mcorpai.org/Reuben's%20Train.mp3",
      'https://mcorpai.org/adventuremusic.mp3'
    ];
    const bgm = new Audio();
    bgm.preload = 'auto';
    bgm.crossOrigin = 'anonymous';
    bgm.loop = false;
    bgm.volume = 0.42;
    let currentTrackIndex = -1;
    function pickNextTrack(){
      if(TRACKS.length===0) return null;
      let idx = Math.floor(Math.random()*TRACKS.length);
      if(TRACKS.length>1 && idx===currentTrackIndex){
        idx = (idx+1)%TRACKS.length;
      }
      currentTrackIndex = idx;
      return TRACKS[idx];
    }
    function playRandomTrack(){
      const src = pickNextTrack();
      if(!src) return;
      try{ bgm.src = src; bgm.currentTime = 0; bgm.load(); safePlay(bgm); }catch(e){}
    }
    bgm.addEventListener('ended', ()=>{ if(audioOn){ playRandomTrack(); } });

    // --- SFX (ì í”„)
    const jumpSfx = makeAudio([
      'https://mcorpai.org/jump6462.mp3',
      '/jump6462.mp3'
    ], 0.7, false);

    let audioOn = false; // ê²Œì„ ì¤‘ì—ë§Œ true

    function safePlay(a){ if(!audioOn) return; try{ const p=a.play(); if(p&&p.catch) p.catch(()=>{}); }catch(e){} }
    function stopAllAudio(){ try{ bgm.pause(); bgm.currentTime=0; }catch(e){} try{ jumpSfx.pause(); }catch(e){} }

    // Small toast helper
    let toastTimer=null; function toast(msg, sec=5){ gameToast.textContent=msg; gameToast.style.display='block'; if(toastTimer){ clearTimeout(toastTimer); toastTimer=null; } toastTimer=setTimeout(()=>{ gameToast.style.display='none'; }, Math.max(1000, sec*1000)); }

    const DEFAULT_HINT = 'Click to start. Space (triple) to jump, hold to glide, â†“ to duck, X to dash. Enter converts obstacle.';
    controlsEl.textContent = DEFAULT_HINT;

    // Best score
    const BEST_KEY='careCanvasBest_v14';
    let best=0; try{ best=parseInt(localStorage.getItem(BEST_KEY)||'0',10)||0; }catch(e){ best=0; }
    hudBest.textContent = best;

// Character (emoji)
const CHARS=[{w:26,h:30,draw:(x,y,duck)=>{ drawEmoji(x,y,duck?22:26, santaBlessTimer>0 ? 'ğŸ…' : 'ğŸ™‚'); }}];
    function drawEmoji(x,y,size,emoji){ ctx.font=`${size}px serif`; ctx.textBaseline='alphabetic'; ctx.fillText(emoji, x, y); }

    const RUPEE='ğŸ’', HEART='â¤', SNAIL='ğŸŒ', STAR='â­', HEALTH='ğŸŸ©', WHEEL='ğŸ¡';

    // World & physics
    const WORLD={w:canvas.width,h:canvas.height};
    const GROUND_Y = WORLD.h - 40;
    let running=false, paused=false;
    let tPrev=0; let gameTime=0; // seconds since start

    // Difficulty & speed (capped)
    let speed=220; const MAX_SPEED=540; let speedScale=1;

    let dist=0; let care=0; let spawnTimer=0; const gravity=1800; const baseJumpVy=560;

    // Time scale (for slowâ€‘mo)
    let slowmoTimer=0; const SLOWMO_FACTOR=0.4;

    // QTE director (now ~10% base chance)
    let qteActive=false, qteTimer=0, qteCooldown=0; const QTE_CHANCE=0.10; const QTE_COOLDOWN=4.0;

    // Speed growth
    let baseAccel = 6; let spikeTimer = 0; function scheduleSpike(){ spikeTimer = rand(4.5,8.0); } scheduleSpike();

    // Triple jump / glide
    const MAX_JUMPS = 3; const JUMP_CHAIN_WINDOW = 500; let jumpsUsed = 0; let lastPressTime = 0; let spaceHeld=false; let glideTime=0, MAX_GLIDE=0.35;

    // Dash (X key)
    let dashTimer=0; const DASH_DURATION=0.35; const DASH_COOLDOWN=2.5; let dashCooldown=0; let invulnTimer=0;

    // Support ability (Enter)
    let supportTimer=0, supportCooldown=1.2;

    const player={x:72,y:GROUND_Y,vy:0,duck:false,onGround:true};
    const hazards=[]; const pickups=[]; // rupees/hearts/snails/stars/health/wheel/revive

    // Hazard labels
    const SAFE_LABELS={ stairs:'Ramp', noise:'Quiet Zone', crowd:'Signage', block:'Safe Path' };
    const HAZARD_LABELS={ stairs:'Stairs', noise:'Noise', crowd:'Crowd', block:'Obstacle' };

    const TYPES=[ {key:'stairs',kind:'ground',w:40,h:24}, {key:'noise',kind:'air',w:48,h:16,y:96}, {key:'crowd',kind:'ground',w:42,h:22}, {key:'block',kind:'ground',w:30,h:26} ];
    const BOSSES=[ {key:'longNoise',kind:'air',w:200,h:16,y:92,label:'Loud Corridor'}, {key:'stairsWall',kind:'ground',w:160,h:30,label:'Steep Steps'}, {key:'crowdMass',kind:'ground',w:220,h:24,label:'Dense Crowd'} ];

    // Stage cycle (Day/Night) every 300m
    let isDay=true; const STAGE_LEN=300; function setStageText(){ hudStage.textContent = (goldenTimer>0? 'Golden' : (lonelyTimer>0? 'Dark' : (isDay? 'Day':'Night'))); }

    // Combo system
    let combo=0; let comboTimer=0; const COMBO_WINDOW=3.0; const MAX_MULT=5; function comboMult(){ return Math.min(MAX_MULT, 1 + Math.floor(combo/5)); }

    // Score multiplier from wheel
    let scoreMult=1, scoreMultTimer=0;

    // Random Mission system
    let mission=null; let missionGap=rand(16,28); // a bit rarer
    function setMissionText(){ hudMission.textContent = mission? mission.label : 'â€”'; }
    function showMission(text){ missionPop.textContent=text; missionPop.style.display='block'; setTimeout(()=>{ missionPop.style.display='none'; }, 1500); }
    function startRandomMission(){
      if(mission) return;
      const roll = Math.random();
      if(roll<0.5){ mission = {type:'hearts', label:'Get 3 Hearts in 30s', target:3, progress:0, timeLeft:30}; }
      else { mission = {type:'clear', label:'Clear 5 Obstacles in 20s', target:5, progress:0, timeLeft:20}; }
      setMissionText();
      showMission('Mission: ' + mission.label);
    }
    function finishMission(success){
      if(!mission) return;
      if(success){ award(20); invulnTimer = Math.max(invulnTimer, 3); toast('Mission complete. Reward applied.', 5); }
      else { toast('Mission failed. No penalty.', 5); }
      mission=null; setMissionText(); missionGap=rand(18,30);
    }

    // Info line
    let infoTimer=0; const INFO_DURATION=10; function showInfo(text){ controlsEl.textContent=text; infoTimer=INFO_DURATION; }

    // Golden stage
    let goldenTimer=0; const GOLDEN_DURATION=5; function startGolden(){ goldenTimer=GOLDEN_DURATION; hazards.length=0; toast('Golden Stage for 5s', 5); }

    // Wheel system
    function spinWheel(){ toast('Wheel spinningâ€¦', 2); setTimeout(()=>{ const r=Math.random(); if(r<0.25){ speed = Math.min(MAX_SPEED, speed + 120); toast('Wheel reward: Speed boost.', 5); } else if(r<0.5){ speedScale = 0.8; toast('Wheel reward: Smooth slowdown 3s.', 5); setTimeout(()=>{ speedScale=1; }, 3000); } else if(r<0.75){ invulnTimer = Math.max(invulnTimer, 2.5); toast('Wheel reward: Invulnerability 2.5s.', 5); } else { scoreMult = 2; scoreMultTimer = 6; toast('Wheel reward: Score x2 for 6s.', 5); } }, 2000); }

    // Snail (slow)
    let slowItemTimer=0; const SLOW_ITEM_FACTOR=0.7; const SLOW_ITEM_TIME=5;

// Effects
const fx=[]; function addFx(text,x,y,color){ fx.push({text,x,y,vy:-22,life:1,color}); }
let santaBlessTimer = 0; // 15s Santa blessing timer

    // Dad random events
// Dad random events
const DAD_CHOICES=[
  {key:'love', text:'I love you.'},
  {key:'hurt', text:'Are you hurt anywhere?'},
  {key:'travel', text:"I'm going on a long trip."},
  {key:'santa', text:"Dad's coming today. Santa Claus said so."}
];    
    let dadEventTimer = rand(18,32); let dadMsgTimer = 0; let dadEffectPending = null; let dadBonusTimer = 0; let dadBonusFactor = 1; let lonelyTimer = 0; let lastDadAt = -999; const DAD_MIN_GAP=20;

    function triggerDadEvent(){
      if(!running || goldenTimer>0 || dadMsgTimer>0 || lonelyTimer>0) { dadEventTimer = rand(20,34); return; }
      if(gameTime - lastDadAt < DAD_MIN_GAP) { dadEventTimer = rand(10,16); return; }
      const c = DAD_CHOICES[Math.floor(Math.random()*DAD_CHOICES.length)];
      dadEffectPending = c.key; dadMsgTimer = 3; lastDadAt = gameTime;
      dadToast.textContent = `ğŸ‘¨ ${c.text}`; dadToast.style.display='block';
      dadEventTimer = rand(26,42);
    }

function applyDadEffect(){
  if(!dadEffectPending) return;
  if(dadEffectPending==='love'){
    speed = Math.min(MAX_SPEED, speed + 360);
    dadBonusFactor = 2.0; dadBonusTimer = 8; toast('Dad: bonus up for 8s.', 5);
  }
  else if(dadEffectPending==='hurt'){
    speed = Math.max(180, speed * 0.8);
    dadBonusFactor = 0.5; dadBonusTimer = 6; toast('Dad: slowdown and lower bonus for 6s.', 5);
  }
  else if(dadEffectPending==='travel'){
    lonelyTimer = 10; hazards.length=0; pickups.length=0; dadBonusFactor=1; dadBonusTimer=0; toast('Dad: dark 10s, no hazards or bonuses.', 5);
  }
  else if(dadEffectPending==='santa'){
    santaBlessTimer = 15;                 // 15ì´ˆ ë²„í”„ ì‹œì‘
    invulnTimer = Math.max(invulnTimer, 15); // 15ì´ˆ ì™„ì „ ë¬´ì 
    toast('Santa blessing: 15s invulnerability & survival freeze.', 5);
  }
  dadEffectPending=null; dadToast.style.display='none';
}

    function award(points){ if(lonelyTimer>0) return; const add = Math.max(0, Math.floor(points * comboMult() * dadBonusFactor * scoreMult)); care += add; }

    // ===== Health survival =====
    let survivalTimer = 0; let survivalMsgTimer = 0; let healthSpawnTimer = 0;
    function difficulty01(){ return clamp(gameTime/120, 0, 1); }
    function scheduleHealthSpawn(){ const t = difficulty01(); const minI = lerp(1.4, 5.0, t); const maxI = lerp(3.0, 9.0, t); healthSpawnTimer = rand(minI, maxI); }
    function spawnHealth(dt){ healthSpawnTimer -= dt; if(healthSpawnTimer>0) return; const y = rand(GROUND_Y-110, GROUND_Y-70); pickups.push({x:WORLD.w+10,y,w:22,h:22,type:'health'}); scheduleHealthSpawn(); }

    // ===== Revive system =====
    let reviveStored=false; let redTotal=0; let redNextThreshold=10; let hardLevel=0; let hardSpikeTimer=0;
function useRevive(reason){
  reviveStored=false;
  invulnTimer = Math.max(invulnTimer, 2.5);
  for(const h of hazards){ const cx=h.x+h.w*0.5; if(Math.abs(cx - (player.x+14)) < 90) h.safe=true; }
  if(reason==='survival'){ survivalTimer = 15; }
  addFx('Revive âœš', player.x+6, player.y-50, '#ef4444');
  toast('Revived once. Charge consumed.', 5);
}
    function maybeHardSpike(){
      if(redTotal >= redNextThreshold){
        hardLevel += 1; hardSpikeTimer = 12;
        redNextThreshold += 10;
        toast('Difficulty spike! Red squares reached '+(redNextThreshold-10)+'.', 5);
      } else {
        const remain = redNextThreshold - redTotal;
        toast('Revive ready. '+redTotal+'/'+(redNextThreshold- (redNextThreshold%10?redNextThreshold%10:0) || 10)+' toward hard spike. '+remain+' to go.', 5);
      }
    }

    // ===== ì´ˆë³´ì ì™„í™”ìš© ë³´ì • (ì´ˆë°˜ 25ì´ˆë§Œ, ì ì§„ ì†Œë©¸) =====
    let beginnerGrace = true; // ì²« ì¶©ëŒ 1íšŒ ìë™ ì„¸ì´ë¸Œ
    function beginnerEase(){ return clamp(1 - gameTime/25, 0, 1); } // 0~25s ë™ì•ˆ 1â†’0ìœ¼ë¡œ ê°ì†Œ

    function spawn(dt){
      if(lonelyTimer>0){ spawnTimer=0.2; return; }
      spawnTimer -= dt; if(spawnTimer>0) return;

      const timeDf = clamp(gameTime/240, 0, 1);
      let hazardChance = 0.60 + 0.18*timeDf + 0.06*hardLevel + (hardSpikeTimer>0?0.18:0);
      let bossChance   = 0.10 + 0.08*timeDf + 0.03*hardLevel + (hardSpikeTimer>0?0.06:0);

      // ì´ˆë³´ì ì™„í™”: ì´ˆë°˜ì—” ì¶œí˜„ìœ¨ê³¼ ë³´ìŠ¤ìœ¨ì„ ë‚®ì¶¤
      const ease = beginnerEase();
      hazardChance *= (1 - 0.25*ease);
      bossChance   *= (1 - 0.40*ease);
      hazardChance = Math.min(0.9, hazardChance);

      if(goldenTimer>0){ const type = Math.random()<0.2? HEART : RUPEE; const y = rand(GROUND_Y-110, GROUND_Y-40); pickups.push({x:WORLD.w+10,y,w:20,h:20,type: type==='ğŸ’'? 'rupee':'heart'}); spawnTimer = rand(0.15,0.35); return; }

      let MAX_HAZARDS = 9 + Math.min(3, hardLevel);
      MAX_HAZARDS -= Math.round(2*ease); // ì´ˆë°˜ì—” ë™ì‹œì¥ì• ë¬¼ 1~2ê°œ ì¤„ì„
      const wantHazard = Math.random() < hazardChance && hazards.length<MAX_HAZARDS;

      if(wantHazard){
        if(Math.random()<bossChance){ const b=BOSSES[Math.floor(Math.random()*BOSSES.length)]; const y=b.kind==='ground'?(GROUND_Y-b.h):(b.y||92); hazards.push({x:WORLD.w+10,y,w:b.w,h:b.h,type:b.key,kind:b.kind,label:b.label,safe:false,boss:true}); spawnTimer=2.6; return; }
        const t=TYPES[Math.floor(Math.random()*TYPES.length)]; const y=t.kind==='ground'?(GROUND_Y-t.h):(t.y||90); const label=HAZARD_LABELS[t.key]; hazards.push({x:WORLD.w+10,y,w:t.w,h:t.h,type:t.key,kind:t.kind,label,safe:false,boss:false});
      } else {
        const roll = Math.random();
        if(roll<0.46){ const y= GROUND_Y-60; pickups.push({x:WORLD.w+10,y,w:20,h:20,type:'rupee'}); }
        else if(roll<0.77){ const y= GROUND_Y-90; pickups.push({x:WORLD.w+10,y,w:20,h:20,type:'heart'}); }
        else if(roll<0.88){ const y= GROUND_Y-30; pickups.push({x:WORLD.w+10,y,w:20,h:20,type:'snail'}); }
        else if(roll<0.93){ const y= GROUND_Y-80; pickups.push({x:WORLD.w+10,y,w:22,h:22,type:'star'}); }
        else if(roll<0.96){ const y= GROUND_Y-70; pickups.push({x:WORLD.w+10,y,w:18,h:18,type:'revive',box:true}); }
        else { const y= GROUND_Y-70; pickups.push({x:WORLD.w+10,y,w:22,h:22,type:'wheel'}); }
      }

      const effectiveSpeed = speed * speedScale;
      let MIN_SPAWN = 0.55 - 0.11*timeDf - 0.04*hardLevel - (hardSpikeTimer>0?0.10:0);
      MIN_SPAWN = Math.max(0.30, MIN_SPAWN);
      const base = rand(0.9,1.6)*(220/Math.max(220,effectiveSpeed));
      spawnTimer = Math.max(MIN_SPAWN, base);
    }

    function transformNearest(){ if(supportTimer>0) return; let target=null, minDx=1e9; for(const h of hazards){ if(h.safe) continue; const dx=h.x-player.x; if(dx>=-24 && dx<160 && dx<minDx){minDx=dx; target=h;} } if(!target) return; if(target.boss){ for(const h of hazards){ const near=Math.abs((h.x+h.w*0.5)-(target.x+target.w*0.5))<target.w*0.8; if(!h.safe && near) h.safe=true; } } else { target.safe=true; } award(1); supportTimer=supportCooldown; try{ if(care>best){ best=care; localStorage.setItem(BEST_KEY,String(best)); hudBest.textContent=best; } }catch(e){}
    }

    // Special counters
    let rupeeCount=0, heartCount=0; let shieldTimer=0; const SHIELD_TIME=4;

    function update(dt){
      gameTime += dt;

      // Dad events
      dadEventTimer -= dt; if(dadEventTimer<=0){ triggerDadEvent(); }
      if(dadMsgTimer>0){ dadMsgTimer -= dt; if(dadMsgTimer<=0){ applyDadEffect(); } }
      if(dadBonusTimer>0){ dadBonusTimer -= dt; if(dadBonusTimer<=0){ dadBonusFactor=1; }}
      if(lonelyTimer>0){ lonelyTimer -= dt; }

      // Missions
      if(!mission){ missionGap -= dt; if(missionGap<=0){ startRandomMission(); } }
      else { mission.timeLeft -= dt; if(mission.timeLeft<=0){ finishMission(false); } }

       // Survival
  survivalMsgTimer -= dt; if(survivalMsgTimer<=0 && survivalMsg.style.display!=='none'){ survivalMsg.style.display='none'; }
  if (santaBlessTimer<=0) survivalTimer -= dt; // ì‚°íƒ€ 15ì´ˆ ë™ì•ˆ ìƒì¡´ íƒ€ì´ë¨¸ ì •ì§€
  if(survivalTimer<=0){ if(reviveStored){ useRevive('survival'); } else { endGame(); return; } }
  spawnHealth(dt);
  // Santa timer down
  if (santaBlessTimer>0) santaBlessTimer -= dt;

      // Time scale
      const scale = (slowmoTimer>0)? SLOWMO_FACTOR : 1; const edt = dt*scale; if(slowmoTimer>0){ slowmoTimer -= dt; }

      // QTE (ì´ˆë³´ì ì™„í™”: ë°œë™ ê±°ë¦¬/ì‹œê°„ ì‚´ì§ ì¦ê°€)
      if(!qteActive && qteCooldown<=0 && invulnTimer<=0 && goldenTimer<=0){
        const {dx} = nearestHazardDx();
        const ease = beginnerEase();
        const qteRange = 34 + 10*ease; // ì´ˆë°˜ 34â†’44í”½ì…€
        if(dx>0 && dx<qteRange && Math.random()<QTE_CHANCE){ qteActive=true; qteTimer=0.6 + 0.15*ease; slowmoTimer = Math.max(slowmoTimer, 1.0); addFx('QTE!', player.x+4, player.y-52, '#2563eb'); }
      }
      if(qteActive){ qteTimer -= dt; if(qteTimer<=0){ qteActive=false; qteCooldown=QTE_COOLDOWN; } }
      if(qteCooldown>0){ qteCooldown-=dt; }

      // Score multiplier decay
      if(scoreMultTimer>0){ scoreMultTimer -= dt; if(scoreMultTimer<=0){ scoreMult=1; }}

      // Speed & spikes (ì´ˆë³´ì ì™„í™”: ì´ˆë°˜ ê°€ì†ì„ ì•½ 35%ê¹Œì§€ ê²½ê°)
      const t = clamp(speed/MAX_SPEED, 0, 1);
      let accel = (baseAccel + hardLevel*1.2) * (1 - t);
      const ease = beginnerEase();
      accel *= (1 - 0.35*ease);
      if(hardSpikeTimer>0){ accel += 0.8; hardSpikeTimer -= dt; speed = Math.min(MAX_SPEED, speed + 120*edt); }
      if(slowItemTimer>0){ slowItemTimer -= dt; if(slowItemTimer<=0){ speedScale=1; } }
      speed = Math.min(MAX_SPEED, speed + accel*edt);
      spikeTimer -= edt; if(spikeTimer<=0 && goldenTimer<=0){ speed = Math.min(MAX_SPEED, speed + rand(8,26)*edt); scheduleSpike(); }

      if(infoTimer>0){ infoTimer-=dt; if(infoTimer<=0){ controlsEl.textContent = DEFAULT_HINT; }}

      // timers
      if(dashCooldown>0){ dashCooldown-=edt; if(dashCooldown<0) dashCooldown=0; }
      if(dashTimer>0){ dashTimer-=edt; invulnTimer=Math.max(invulnTimer, dashTimer); speed = Math.min(MAX_SPEED, speed + 360*edt); }
      if(invulnTimer>0){ invulnTimer-=edt; }
      if(shieldTimer>0){ shieldTimer-=edt; }
      if(comboTimer>0){ comboTimer-=edt; if(comboTimer<=0){ combo=0; }}
      if(goldenTimer>0){ goldenTimer-=dt; if(goldenTimer<=0){ toast('Golden ended.', 3); }}

      // gravity with glide
      let effectiveG = gravity; if(!player.onGround && spaceHeld && glideTime>0){ effectiveG = gravity*0.36; glideTime -= edt; if(glideTime<0) glideTime=0; }
      player.vy += -effectiveG*edt; player.y += -player.vy*edt;
      if(player.y>=GROUND_Y){ player.y=GROUND_Y; player.vy=0; if(!player.onGround){ jumpsUsed=0; glideTime=MAX_GLIDE; } player.onGround=true; } else { player.onGround=false; }

      const v = speed * speedScale;
      for(let i=hazards.length-1;i>=0;i--){ const h=hazards[i]; h.x -= v*edt; if(!h.passed && h.x+h.w<player.x){ h.passed=true; if(mission && mission.type==='clear'){ mission.progress++; setMissionText(); if(mission.progress>=mission.target){ finishMission(true); } } } if(h.x+h.w<-20) hazards.splice(i,1); }
      for(let i=pickups.length-1;i>=0;i--){ const p=pickups[i]; p.x -= v*edt; if(p.x+p.w<-20 || p.y>WORLD.h+40) pickups.splice(i,1); }

      for(let i=fx.length-1;i>=0;i--){ const f=fx[i]; f.y += f.vy*edt; f.life -= edt; if(f.life<=0) fx.splice(i,1); }

      dist += v*edt*0.01;

      const stageIndex = Math.floor(dist/STAGE_LEN)%2; const shouldBeDay = stageIndex===0; if(shouldBeDay!==isDay && goldenTimer<=0 && lonelyTimer<=0){ isDay=shouldBeDay; }
      setStageText();

      hudDash.textContent = dashCooldown>0 ? 'Cooling' : 'Ready';
      hudCombo.textContent = 'x'+comboMult();
      if(mission){ hudMission.textContent = `${mission.label}  [${mission.progress}/${mission.target}]  ${Math.max(0,mission.timeLeft).toFixed(0)}s`; }
    }

    function collide(a,b){ return a.x < b.x + b.w && a.x + a.w > b.x && a.y < b.y + b.h && a.y + a.h > b.y; }

    function check(){
      const c=CHARS[0]; const ph = player.duck? c.h*0.6 : c.h; const p={x:player.x+2,y:player.y-ph+2,w:Math.max(18,c.w-4),h:Math.max(18,ph-4)};
      // hazards
      for(const h of hazards){ if(h.safe) continue; if(collide(p,h)){
          if(invulnTimer>0 || shieldTimer>0){ h.safe=true; continue; }
          // ì´ˆë³´ì ê·¸ë ˆì´ìŠ¤: ì´ˆë°˜ 25ì´ˆ ë‚´ ì²« ì¶©ëŒ 1íšŒ ìë™ ì„¸ì´ë¸Œ
          if(beginnerGrace && beginnerEase()>0){ beginnerGrace=false; h.safe=true; invulnTimer=Math.max(invulnTimer,1.5); addFx('Grace âœš', player.x+6, player.y-50, '#10b981'); toast('Beginner grace consumed.', 4); continue; }
          if(reviveStored){ h.safe=true; useRevive('hit'); continue; }
          return true;
      } }
      // pickups
      for(let i=pickups.length-1;i>=0;i--){ const a=pickups[i]; const box={x:a.x,y:a.y,w:a.w,h:a.h}; if(collide(p,box)){
          combo += 1; comboTimer = COMBO_WINDOW;
          if(a.type==='rupee'){
            rupeeCount+=1; award(1); if(rupeeCount>=10){ shieldTimer = SHIELD_TIME; rupeeCount=0; toast('Shield on for 4s.', 5); }
          } else if(a.type==='heart'){
            heartCount+=1; award(2);
            if(mission && mission.type==='hearts'){ mission.progress++; setMissionText(); if(mission.progress>=mission.target){ finishMission(true); } }
            if(heartCount>=3){ for(const h of hazards){ h.safe=true; } heartCount=0; toast('Field Clear.', 3); }
          } else if(a.type==='snail'){
            slowItemTimer = SLOW_ITEM_TIME; speedScale = SLOW_ITEM_FACTOR; toast('Slow down for 5s.', 5);
          } else if(a.type==='star'){
            startGolden();
        } else if(a.type==='health'){
            survivalTimer = Math.min(15, survivalTimer + 15); addFx('+SURVIVE', player.x+6, player.y-40, '#10b981'); award(1);
          } else if(a.type==='wheel'){
            spinWheel();
          } else if(a.type==='revive'){
            redTotal += 1;
            if(!reviveStored){ reviveStored = true; toast('Red square stored. 1 revive ready.', 5); }
            maybeHardSpike();
          }

          // ===== Total Score add per item (blue) =====
          if(a.type==='rupee' || a.type==='heart' || a.type==='snail' || a.type==='star' || a.type==='health' || a.type==='wheel'){
            updateTotalScore(ITEM_POINTS[a.type]||0);
          }

          pickups.splice(i,1);
          try{ if(care>best){ best=care; localStorage.setItem(BEST_KEY,String(best)); hudBest.textContent=best; } }catch(e){}
      } }
      return false;
    }

    function draw(){
      if(lonelyTimer>0){ ctx.fillStyle='#0b1221'; }
      else if(goldenTimer>0){ ctx.fillStyle='#fff7d6'; }
      else if(isDay){ ctx.fillStyle='#eaf2ff'; } else { ctx.fillStyle='#0b1221'; }
      ctx.fillRect(0,0,WORLD.w,WORLD.h);
      ctx.fillStyle=(goldenTimer>0)? '#f0cc4a' : (isDay? '#cfe0ff' : '#172033'); ctx.fillRect(0, GROUND_Y+12, WORLD.w, 2);

      const c=CHARS[0]; c.draw(player.x, player.y-2, player.duck);

      if(dadMsgTimer>0 || dadBonusTimer>0 || lonelyTimer>0){ const ex=Math.min(WORLD.w-36, player.x+48); const ey=Math.max(28, player.y-70); drawEmoji(ex, ey, 28, 'ğŸ‘¨'); }

      if(qteActive){ ctx.font='bold 14px system-ui'; ctx.fillStyle = '#2563eb'; ctx.fillText('QTE', player.x-6, player.y-58); }

      if(shieldTimer>0){ ctx.strokeStyle = isDay? '#22c55e' : '#a7f3d0'; if(goldenTimer>0) ctx.strokeStyle='#f59e0b'; ctx.lineWidth=2; ctx.beginPath(); ctx.arc(player.x+14, player.y-18, 18, 0, Math.PI*2); ctx.stroke(); }

      ctx.font='12px system-ui';
      for(const h of hazards){ ctx.fillStyle = h.safe? '#34d399' : '#fca5a5'; ctx.fillRect(h.x, h.y, h.w, h.h); ctx.fillStyle=(goldenTimer>0)? '#b45309' : (isDay? '#0b1221':'#dbeafe'); if(h.label) ctx.fillText(h.label, h.x+4, Math.max(12,h.y-2)); if(h.safe){ const key=h.type; const text= key==='longNoise'? SAFE_LABELS['noise'] : key==='stairsWall'? SAFE_LABELS['stairs'] : key==='crowdMass'? SAFE_LABELS['crowd'] : SAFE_LABELS[key]||''; if(text) ctx.fillText(text, h.x+4, h.y+h.h+12); } }

      for(const p of pickups){ if(p.box){
          ctx.fillStyle = '#ef4444'; ctx.fillRect(p.x-9, p.y-18, 18, 18);
          ctx.strokeStyle = isDay? '#fee2e2' : '#fecaca'; ctx.strokeRect(p.x-9, p.y-18, 18, 18);
        } else {
          ctx.font='18px serif'; ctx.fillStyle = (goldenTimer>0)? '#b45309' : (isDay? '#111' : '#fff');
          const ch = p.type==='rupee'?RUPEE : p.type==='heart'? HEART : p.type==='snail'? SNAIL : p.type==='star'? STAR : p.type==='health'? HEALTH : p.type==='wheel'? WHEEL : 'â€¢';
          ctx.fillText(ch, p.x, p.y);
        }
      }

      if(survivalTimer<=12){ ctx.font='bold 16px system-ui'; ctx.fillStyle = (isDay? '#b91c1c':'#fecaca'); ctx.fillText(`Find ${HEALTH}! ${survivalTimer.toFixed(1)}s`, WORLD.w*0.5-60, 22); }

      for(const f of fx){ ctx.globalAlpha = Math.max(0,f.life); ctx.fillStyle = f.color || '#111827'; ctx.font='bold 14px system-ui'; ctx.fillText(f.text, f.x, f.y); ctx.globalAlpha=1; }

      hudDist.textContent = dist.toFixed(1);
      hudCare.textContent = care;
    }

    function loop(ts){ if(!running){ tPrev=ts; return; } let dt=Math.min(0.033,(ts-tPrev)/1000||0); tPrev=ts; if(!paused){ spawn(dt); update(dt); if(check()){ endGame(); return; } draw(); } requestAnimationFrame(loop); }

    // ===== Ending helpers =====
    let endingTimer=null; let endingOpen=false;
    function clearEndingTimer(){ if(endingTimer){ clearTimeout(endingTimer); endingTimer=null; } }
    function showEnding(){ endingPanel.style.display='block'; endingOpen=true; audioOn=false; stopAllAudio(); }
    function hideEnding(){ endingPanel.style.display='none'; endingOpen=false; }
    function endByTimer(){ running=false; paused=false; showEnding(); }

    function resetToStartScreen(){
      // ê²Œì„ ë£¨í”„ ì •ì§€ ë° UI ì´ˆê¸°ìƒíƒœ
      running=false; paused=false; clearEndingTimer(); hideEnding(); stopAllAudio(); audioOn=false;
      banner.style.display='block';
      const title = banner.querySelector('h4'); if(title) title.textContent='GAME START';
      controlsEl.textContent = DEFAULT_HINT;
      canvas.style.visibility='visible';
    }

    function startGame(){
      running=true; paused=false; speed=220; speedScale=1; dist=0; care=0; hazards.length=0; pickups.length=0; player.y=GROUND_Y; player.vy=0; player.duck=false; spawnTimer=0.2; combo=0; comboTimer=0; rupeeCount=0; heartCount=0; goldenTimer=0; slowItemTimer=0; dadEventTimer = rand(18,32); dadMsgTimer=0; dadEffectPending=null; dadBonusTimer=0; dadBonusFactor=1; lonelyTimer=0; gameTime=0; lastDadAt=-999; setStageText(); mission=null; missionGap=rand(16,28); setMissionText(); banner.style.display='none'; dadToast.style.display='none'; survivalTimer=12; survivalMsgTimer=3; survivalMsg.textContent='You must collect the health bar to survive.'; survivalMsg.style.display='block'; scheduleHealthSpawn(); qteActive=false; qteCooldown=0; scoreMult=1; scoreMultTimer=0; reviveStored=false; redTotal=0; redNextThreshold=10; hardLevel=0; hardSpikeTimer=0; beginnerGrace=true; hideEnding(); clearEndingTimer();
      // ë°°ê²½ìŒì•…: ê²Œì„ ì¤‘ì—ë§Œ ëœë¤ ì¬ìƒ (ê³¡ ì¢…ë£Œ ì‹œ ìë™ìœ¼ë¡œ ë‹¤ìŒ ëœë¤ ê³¡)
      audioOn=true; try{ playRandomTrack(); }catch(e){}
      requestAnimationFrame((t)=>{tPrev=t; requestAnimationFrame(loop);});
      // 1,800ì´ˆ(30ë¶„) ë’¤ ì—”ë”©ì°½
      endingTimer=setTimeout(endByTimer,1800000);
    }

    function endGame(){ running=false; paused=false; banner.style.display='block'; banner.querySelector('h4').textContent='GAME OVER'; dadToast.style.display='none'; survivalMsg.style.display='none'; mission=null; setMissionText(); clearEndingTimer(); showEnding(); try{ if(care>best){ best=care; localStorage.setItem(BEST_KEY,String(best)); hudBest.textContent=best; } }catch(e){}; footerEl.textContent='Please support mcorpai.org'; }

    function performJump(mult=1){ const jumpVy = baseJumpVy * mult; player.vy = jumpVy; player.onGround=false; safePlay(jumpSfx); }

    function nearestHazardDx(){ let dxMin=1e9, target=null; for(const h of hazards){ if(h.safe) continue; const dx=h.x - player.x; if(dx>=-10 && dx<dxMin){ dxMin=dx; target=h; } } return {dx:dxMin, target}; }

    function onSpacePress(){ const now = performance.now(); if(!running){ startGame(); return; } if(now - lastPressTime <= JUMP_CHAIN_WINDOW){ /* keep chain */ } lastPressTime = now; if(player.onGround) { jumpsUsed = 0; glideTime=MAX_GLIDE; } const {dx} = nearestHazardDx(); if(dx>0 && dx<36 && player.onGround){ award(3); addFx('Perfect! âœ¨', player.x+6, player.y-40, '#f59e0b'); } if(jumpsUsed < MAX_JUMPS){ const mult = (jumpsUsed===0)? 1 : (jumpsUsed===1? 0.92 : 0.86); performJump(mult); jumpsUsed += 1; } }

    function tryDash(){ if(!running) return; if(dashCooldown>0) return; dashTimer = DASH_DURATION; invulnTimer = Math.max(invulnTimer, DASH_DURATION); dashCooldown = DASH_COOLDOWN; const {dx, target} = nearestHazardDx(); if(dx>0 && dx<80){ slowmoTimer = Math.max(slowmoTimer, 1.0); addFx('Sloâ€‘mo! ğŸ•’', player.x+2, player.y-50, '#2563eb'); if(qteActive && target){ target.safe=true; award(4); qteActive=false; qteCooldown=QTE_COOLDOWN; toast('QTE success. Nearest obstacle cleared.', 5); } } }

    // === Input handlers ===
    function onKeyDown(e){
      const active=document.activeElement&&['INPUT','TEXTAREA','SELECT'].includes(document.activeElement.tagName);
      if(active) return;
      // ì—”ë”©ì°½ì´ ì—´ë ¤ ìˆìœ¼ë©´ ëª¨ë“  í‚¤ ì…ë ¥ ë¬´ì‹œ (ëª¨ë°”ì¼ í•˜ë“œì›¨ì–´ í‚¤ í¬í•¨)
      if(endingOpen){ if(['Space','Enter','KeyX','ArrowDown','KeyP'].includes(e.code)){ e.preventDefault(); return; } }
      if(['ArrowDown','Space','Enter','KeyX'].includes(e.code)) e.preventDefault();
      if(e.code==='Space'){ spaceHeld=true; onSpacePress(); }
      else if(e.key==='ArrowDown'){ if(running) player.duck=true; }
      else if(e.key==='Enter'){ if(running) transformNearest(); }
      else if(e.code==='KeyX'){ tryDash(); }
      else if(e.code==='KeyP'){ if(running) paused=!paused; }
    }
    function onKeyUp(e){ if(e.code==='Space') spaceHeld=false; if(e.key==='ArrowDown') player.duck=false; }

    // í´ë¦­/í„°ì¹˜: ì—”ë”©ì°½ ì˜¤í”ˆ ì‹œì—ëŠ” ìº”ë²„ìŠ¤/ë°°ë„ˆ ì…ë ¥ ë¬´ì‹œ
    canvas.addEventListener('click', ()=>{ if(endingOpen) return; if(!running){ startGame(); } else { onSpacePress(); } });
    if(startBtn){ startBtn.addEventListener('click', (ev)=>{ if(endingOpen) return; ev.stopPropagation(); startGame(); }); }
    banner.addEventListener('click', (ev)=>{ if(endingOpen) return; ev.stopPropagation(); startGame(); });

    if(btnRestart){ btnRestart.addEventListener('click', ()=>{ hideEnding(); startGame(); }); }
    if(btnExit){ btnExit.addEventListener('click', ()=>{ resetToStartScreen(); }); }

    let touchStart=0, lastTap=0;
    canvas.addEventListener('touchstart', (e)=>{ if(endingOpen){ e.preventDefault(); return; } const now=performance.now(); if(!running){ startGame(); return; } const rect=canvas.getBoundingClientRect(); const x=e.touches[0].clientX-rect.left; const left=x<rect.width*0.45; if(now-lastTap<260 && left){ transformNearest(); lastTap=0; return; } lastTap=now; touchStart=now; player.duck=true; }, {passive:true});
    canvas.addEventListener('touchend', (e)=>{ if(endingOpen){ e.preventDefault(); return; } if(!running) return; const dur=performance.now()-touchStart; if(dur<180){ onSpacePress(); } player.duck=false; }, {passive:true});

    window.addEventListener('keydown', onKeyDown); window.addEventListener('keyup', onKeyUp);
    window.addEventListener('blur', ()=>{ if(running) paused=true; }); window.addEventListener('focus', ()=>{ if(running) paused=false; });

    /* ========================
       Addâ€‘on: Total Score HUD + Item Scoring + 2,000 step difficulty + 50,000 ending
       (ì›ë³¸ ë¡œì§ì€ ë³€ê²½í•˜ì§€ ì•Šê³ , ë™ì¼ ìŠ¤ì½”í”„ ë‚´ì—ì„œ í™•ì¥)
    =========================*/
    const hudEl = document.querySelector('#care-canvas-game .hud');
    const totalWrap = document.createElement('div');
    totalWrap.style.color = '#2563eb';
    totalWrap.innerHTML = 'total score(50,000 ending) <b id="ccg-total" style="color:#2563eb">0</b>';
    if(hudEl && hudEl.firstChild){ hudEl.insertBefore(totalWrap, hudEl.firstChild); } else if(hudEl){ hudEl.appendChild(totalWrap); }

    let totalScore = 0;
    const SCORE_STEP = 2000;
    const SCORE_ENDING = 50000;
    let nextStep = SCORE_STEP;

    const ITEM_POINTS = { rupee:10, heart:20, snail:30, star:40, health:50, wheel:60 };

    function updateScoreHud(){ const el=document.getElementById('ccg-total'); if(el) el.textContent = String(totalScore); }

    function updateTotalScore(delta){
      if(!delta) return;
      totalScore += delta;
      updateScoreHud();
      while(totalScore >= nextStep){
        speed = Math.min(MAX_SPEED, speed + 20);
        toast('Difficulty increased!', 3);
        nextStep += SCORE_STEP;
      }
      if(totalScore >= SCORE_ENDING){
        running=false; paused=false; showEnding();
      }
    }

    // startGame í™•ì¥: ì ìˆ˜ ì´ˆê¸°í™”
    const __startGame = startGame;
    startGame = function(){ totalScore=0; nextStep=SCORE_STEP; updateScoreHud(); return __startGame(); };

    // check í™•ì¥: í”½ì—…ë³„ total score ë°˜ì˜ ë³´ê°•
    const __check = check;
    check = function(){
      const result = __check.apply(this, arguments);
      // ë§¤ í”„ë ˆì„ í”Œë ˆì´ì–´ì™€ ê°€ê¹Œìš´ í”½ì—…ì„ ì¬ê²€ì‚¬í•˜ì—¬ ì ìˆ˜ë§Œ ë³„ë„ë¡œ ë°˜ì˜
      const c=CHARS[0]; const ph = player.duck? c.h*0.6 : c.h; const p={x:player.x+2,y:player.y-ph+2,w:Math.max(18,c.w-4),h:Math.max(18,ph-4)};
      for(let i=pickups.length-1;i>=0;i--){ const a=pickups[i]; if(!a || a.box) continue; const box={x:a.x,y:a.y,w:a.w,h:a.h}; if(collide(p,box)){
          if(ITEM_POINTS[a.type]){ updateTotalScore(ITEM_POINTS[a.type]); }
      } }
      return result;
    };

  })();
  </script>
</section>

  




  
  
  
</html>
